
/* Smart HTML Elements v7.4.0 (2020-Apr) 
Copyright (c) 2011-2020 jQWidgets. 
License: https://htmlelements.com/license/ */ //

!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){Smart("smart-accordion-item",class extends Smart.ContentElement{static get properties(){return{dragged:{value:!1,type:"boolean"},expanded:{value:!1,type:"boolean"},focused:{value:!1,type:"boolean"},index:{value:null,type:"number?"},label:{value:"",type:"string"}}}get enableShadowDOM(){return!1}static get listeners(){return{"accordionItemHeader.mouseenter":"_headerMouseEnterHandler","accordionItemHeader.mouseleave":"_headerMouseLeaveHandler","accordionItemHeader.down":"_ripple"}}template(){return'<div id="container" role="presentation">\n                    <div id="accordionItemHeader" class="smart-accordion-item-header smart-unselectable" role="heading" aria-level="1">\n                        <span id="arrow" class="smart-arrow" role="presentation" aria-hidden="true"></span>\n                        <span id="label" class="smart-label" inner-h-t-m-l=\'[[label]]\' role="button"></span>\n                    </div>\n                    <div id="accordionItemContent" class="smart-accordion-item-content">\n                        <div id="contentContainer" class="smart-content-container" role="presentation"><content></content></div>\n                    </div>\n                </div>'}render(){const e=this;let t;t=e.id?e.id+"Content":e.parentElement&&e.parentElement.parentElement&&e.parentElement.parentElement.id?e.parentElement.parentElement.id+Math.floor(1e4*Math.random())+"Content":"accordion"+Math.floor(1e4*Math.random())+"Content",e.$.accordionItemContent.id=t,e.$.label.setAttribute("aria-controls",t),super.render()}propertyChangedHandler(e,t,n){super.propertyChangedHandler(e,t,n);const i=this;if("expanded"===e){i.$.label.setAttribute("aria-expanded",n);const e=i.parentElement&&i.parentElement.parentElement?i.parentElement.parentElement.expandMode:i.shadowParent.expandMode;if("multiple"===e||"toggle"===e)return;return void(n?i.$.label.setAttribute("aria-disabled",!0):i.$.label.removeAttribute("aria-disabled"))}if(t=parseInt(t),n=parseInt(n),"index"!==e||isNaN(t)||isNaN(n))return;const a=i.parentElement.parentElement._items.length;n<0?n=0:n>=a&&(n=a-1),n!==t&&i.$.fireEvent("indexChange",{newIndex:n,oldIndex:t}),i.index=n}_headerMouseEnterHandler(){this.disabled||this.setAttribute("hover","")}_headerMouseLeaveHandler(){this.disabled||this.removeAttribute("hover")}_ripple(e){const t=this;t.disabled||t.hasRippleAnimation&&Smart.Utilities.Animation.Ripple.animate(t.$.container,e.pageX,e.pageY)}_setIndex(e){const t=this.context;this.context=this,this.index=e,this.context=t}focus(){super.focus(),this.setAttribute("focus","")}blur(){super.blur(),this.removeAttribute("focus")}}),Smart("smart-accordion",class extends Smart.BaseElement{static get properties(){return{expandedIndexes:{value:[],type:"array"},expandMode:{allowedValues:["single","singleFitHeight","multiple","toggle","none"],value:"singleFitHeight",type:"string"},messages:{extend:!0,value:{en:{accordionItemRequired:'{{elementType}}: "{{method}}" requires an item from type "smart-accordion-item".',indexOutOfBound:'{{elementType}}: Out of bound index/indexes in "{{method}}" method.',invalidSettings:'{{elementType}}: "{{method}}" method accepts a string or an object as it\'s second parameter.',missingReference:"{{elementType}}: Missing reference to {{files}}.",noItems:"{{elementType}}: No child elements found.",overridingProperties:'{{elementType}}: Overriding properties {{property1}} and {{property2}} applied. The "{{property1}}" property is used by default.'}},type:"object"},reorder:{value:!1,type:"boolean"}}}static get listeners(){return{down:"_downHandler",focus:"_focusHandler",indexChange:"_indexChangeHandler",keydown:"_keyDownHandler",move:"_moveHandler",resize:"_resizeHandler",styleChanged:"_resizeHandler","document.up":"_upHandler","container.move":"_containerMoveHandler"}}template(){return'<div id="container" role="presentation">\n                    <content></content>\n                </div>'}static get styleUrls(){return["smart.accordion.css"]}ready(){super.ready()}render(){this._createElement(),super.render()}propertyChangedHandler(e,t,n){const i=this;if("expandedIndexes"===e){if(t.toString()===n.toString())return;let e=[];if(i._items.length>0)for(let t=0;t<n.length;t++){let a=parseInt(n[t]);if(!isNaN(a)){if(i._expandModeIs(["single","singleFitHeight","toggle"])){e.length<1&&a>=0&&a<i._items.length&&e.push(a);break}a>=0&&a<=i._items.length&&-1===e.indexOf(a)&&e.push(a)}}if(0===e.length&&i._expandModeIs(["single","singleFitHeight"]))return n=t.slice(),void(i.expandedIndexes=n);n=e;const a=i._compareExpandedIndexes(t,n);return i._toggleItems("collapse",a.collapse),i._toggleItems("expand",a.expand),void(i.expandedIndexes=n)}switch(super.propertyChangedHandler(e,t,n),e){case"disabled":i._setFocusable(),i._enableDisableHandler();break;case"expandMode":if(0===i._items.length)break;if("multiple"===t&&"none"!==n||"none"===t&&"multiple"!==n){const e=i.expandedIndexes.slice(1);i._toggleItems("collapse",e),0===i.expandedIndexes.length&&i._expandModeIs(["single","singleFitHeight"])&&a()}else"toggle"===t&&i._expandModeIs(["single","singleFitHeight"])&&0===i.expandedIndexes.length&&a();if(!i._supportCSSVariables||!i._usedCSSVariables){const e=i.expandedIndexes[0];"singleFitHeight"===t?i._items[e].$.accordionItemContent.style.height="":"singleFitHeight"===n&&(i._items[e].$.accordionItemContent.style.height=i._expandedItemsContainerHeight-1+"px")}"multiple"===n||"toggle"===n?i._items[i.expandedIndexes[0]].$.label.removeAttribute("aria-disabled"):i._items[i.expandedIndexes[0]].$.label.setAttribute("aria-disabled",!0);break;case"unfocusable":i._setFocusable()}function a(){i._toggleItems("expand",[0]),i.expandedIndexes=[0]}}appendChild(e){const t=this;if(!t.isCompleted||e instanceof HTMLElement&&(e.classList.contains("smart-resize-trigger-container")||e.classList.contains("smart-measure-element"))){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e instanceof Smart.AccordionItem||t.error(t.localize("accordionItemRequired",{method:"appendChild"})),t.insert(t._items.length,e)}collapse(e,t){e=this._validateItemsIndex(e,"collapse"),isNaN(e)||!this._items[e].expanded||this._expandModeIs(["single","singleFitHeight"])&&this.expandedIndexes.indexOf(e)>-1||this._collapseItem(e,t)}expand(e,t){const n=this;e=n._validateItemsIndex(e,"expand"),isNaN(e)||n._items[e].expanded||(n._expandModeIs(["single","singleFitHeight","toggle"])&&n._toggleItems("collapse",n.expandedIndexes),n._expandItem(e,t))}insert(e,t){const n=this,i=0===n._items.length;let a,o;if(t||("number"==typeof e?t=[{label:"",content:""}]:(t=[{label:e?e.toString():"",content:e?e.toString():""}],e=0)),t instanceof HTMLElement)t instanceof Smart.AccordionItem?a=t:n.error(n.localize("accordionItemRequired",{method:"insert"}));else if(Array.isArray(t)){o=document.createDocumentFragment();for(let e=0;e<t.length;e++){const i=n._createItem(t[e]);o.appendChild(i)}}else a=t instanceof Object?n._createItem(t):"string"==typeof t||"number"==typeof t?n._createItem({label:t.toString(),content:t.toString()}):n._createItem({label:"",content:""});e>n._items.length?a?n.$.container.appendChild(a):n.$.container.appendChild(o):a?n.$.container.insertBefore(a,n._items[e]):n.$.container.insertBefore(o,n._items[e]),a&&(a.tabIndex=n._tabIndex),n._storeItems(),i&&n._expandModeIs(["single","singleFitHeight"])?n._expandItem(0):n.expandedIndexes=n._getExpandedIndexes(),n._updateExpanedContentHeight(),n._updateInlineHeight(),n._storeItemsCoordinates(),n._updateItemsIndexProperty()}insertBefore(e,t){const n=this;if(!n.isCompleted){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(n,e.concat(Array.prototype.slice.call(arguments)))}void 0!==e&&void 0!==t&&e instanceof Smart.AccordionItem&&t instanceof Smart.AccordionItem||n.error(n.localize("accordionItemRequired",{method:"insertBefore"})),null!=t?(n.contains(t)||n.error(n.localize("referenceNodeNotChild",{argument:"referenceNode"})),n.insert(n._items.indexOf(t),e)):n.insert(n._items.indexOf(t),e)}removeAt(e){const t=this;let n;if(e instanceof HTMLElement)e instanceof Smart.AccordionItem?t.contains(e)||t.error(t.localize("referenceNodeNotChild",{argument:"node"})):t.error(t.localize("accordionItemRequired",{method:"remove"})),n=e,e=n.index;else{if(e=t._validateItemsIndex(e,"remove"),isNaN(e))return;n=t._items[e]}n&&(n.parentNode.removeChild(n),t._storeItems(),t._expandModeIs(["singleFitHeight"])&&(t._preventAnimation=!0),t._expandModeIs(["single","singleFitHeight"])&&e===t.expandedIndexes[0]&&t._items.length>0&&(t._expandItem(0),t._selectedItem=t._items[0],t._selectedItemIndex=0,t._itemIsFocussed=!0),t.expandedIndexes=t._getExpandedIndexes(),t._updateExpanedContentHeight(),t._updateInlineHeight(),t._storeItemsCoordinates(),t._updateItemsIndexProperty())}removeChild(e){const t=this;if(!t.isCompleted){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e instanceof HTMLElement||t.error(t.localize("accordionItemRequired",{method:"removeChild"})),"smart-resize-trigger-container"!==e.className?(e instanceof Smart.AccordionItem||t.error(t.localize("accordionItemRequired",{method:"removeChild"})),t.contains(e)||t.error(t.localize("referenceNodeNotChild",{argument:"node"})),t.removeAt(e)):super.removeChild(e)}_setFocusable(){const e=this;if(e.disabled||e.unfocusable){e.removeAttribute("tabindex");for(let t=0;t<e._items.length;t++)e._items[t].removeAttribute("tabindex")}else{e.tabIndex=e._tabIndex;for(let t=0;t<e._items.length;t++)e._items[t].tabIndex=e._tabIndex}}update(e,t){const n=this;if(e=n._validateItemsIndex(e,"update"),isNaN(e))return;let i=n._items[e];if(t||n.error(n.localize("invalidSettings",{elementType:n.nodeName.toLowerCase(),method:"update"})),i)if(Array.isArray(t)&&(t=0===t.length?{label:"",content:""}:t[0]),"string"==typeof t)i.content=t;else for(let e in t)i[e]=t[e];const a=n._getItemsHeights(e);n._updateExpanedContentLocalHeight(n._items[e],a),n._updateInlineHeight(),n._storeItemsCoordinates()}_adjustHeightValue(e){const t=this,n=t._items.length;let i,a;for(let e=0;e<n&&(t._items[e].expanded?i=t._items[e]:a=t._items[e],!i||!a);e++);if(i||(i=t._items[0]),!i&&!a)return;const o=i.expanded;i.expanded=!0;const r=window.getComputedStyle(i,null),s=!!a&&window.getComputedStyle(a,null),d=parseInt(r.getPropertyValue("margin-top"))+parseInt(r.getPropertyValue("margin-bottom")),l=s?parseInt(s.getPropertyValue("margin-top"))+parseInt(s.getPropertyValue("margin-bottom")):0;return i.expanded=o,e-((n-1)*l+d)}_collapseItem(e,t){const n=this;let i=n._items[e];if(i.expanded&&("none"!==n.expandMode||!t)){if(i.expanded=!1,n.$.fireEvent("collapsing",{index:e,label:i.label,content:i.content.innerHTML}),n.expandedIndexes.indexOf(e)>-1){let t=n.expandedIndexes.indexOf(e),i=n.expandedIndexes.slice();i.splice(t,1),n.expandedIndexes=i}i.$.accordionItemContent.style.height="",n._handleAnimationsDuration(i,e,"collapse")}}_compareExpandedIndexes(e,t){let n=[],i=[],a=[],o=e.length,r=t.length;for(let a=0;a<o;a++)-1===t.indexOf(e[a])?-1===n.indexOf(e[a])&&n.push(e[a]):-1===i.indexOf(e[a])&&i.push(e[a]);for(let e=0;e<r;e++)-1===i.indexOf(t[e])&&a.push(t[e]);return{collapse:n,expand:a}}_createElement(){const e=this;e._reorderItemsByIndex(),e._usedCSSVariables=Boolean(window.getComputedStyle(e.$.container).getPropertyValue("--smart-accordion-animation-duration")),e._supportCSSVariables=Smart.Utilities.Core.CSSVariablesSupport(),e._storeItems(),e._enableDisableHandler(),e._expandedIndexesHandler(),e._updateExpanedContentHeight(),e._tabIndex=e.tabIndex<=0?0:e.tabIndex,e._setFocusable(),e._updateItemsIndexProperty(),e._updateInlineHeight();for(let t=0;t<e._items.length;t++)e._items[t].setAttribute("part","smart-accordion-item"),e._items[t].$.arrow.classList.add("smart-animate-trigger")}_createItem(e){const t=this,n=document.createElement("smart-accordion-item");if(e)return n.disabled=t.disabled,t._tabIndex>-1&&(n.tabIndex=t._tabIndex),"string"==typeof e||"number"==typeof e?(n.label=e+"",n.content=e+"",n):(n.label=e.label||"",n.content=e.content||"",n)}_downHandler(e){if(this.disabled||this.readonly||"none"===this.expandMode||this._toggled)return;const t=this.enableShadowDOM&&this.shadowRoot?this.shadowRoot.elementFromPoint(e.pageX-window.pageXOffset,e.pageY-window.pageYOffset):e.originalEvent.target,n=t.closest(".smart-accordion-item-header"),i=t.closest("smart-accordion-item");n?(this._pointerPosition=e.pageY-window.pageYOffset,this._selectedItem=i,this._itemIsPressed=this._itemIsFocussed=!0,this._reorderedIndex=this._selectedItemIndex=this._items.indexOf(i),this._storeItemsCoordinates()):i&&(i.focused=!0)}_enableDisableHandler(){const e=this;if(e.disabled)for(let t=0;t<e._items.length;t++)e._items[t].disabled=!0;else for(let t=0;t<e._items.length;t++)e._items[t].disabled=!1}_expandedIndexesHandler(){const e=this;let t=e._getExpandedIndexes("initial"),n=t.length,i=e.expandedIndexes.length;if(0!==e._items.length){if(0===i&&n>0&&(e.expandedIndexes=t,i=n),e._expandModeIs(["multiple","none"])||1===i)return e._toggleItems("expand",e.expandedIndexes),void(e._animationAfterInitialization=!0);switch(e.expandMode){case"single":case"singleFitHeight":0===i?e._toggleItems("expand",[0]):i>1&&(e._toggleItems("collapse",e.expandedIndexes.splice(0,1)),e._toggleItems("expand",e.expandedIndexes));break;case"toggle":i>1&&(e._toggleItems("collapse",e.expandedIndexes.splice(0,1)),e._toggleItems("expand",e.expandedIndexes))}e._animationAfterInitialization=!0}else e._animationAfterInitialization=!0}_expandItem(e,t){const n=this;let i=n._items[e];if(!(i.expanded||"none"===n.expandMode&&t)){if(i.$.container.style.getPropertyValue("--smart-accordion-expanded-content-local-height")||(i.expanded=!0,i.$.container.style.setProperty("--smart-accordion-expanded-content-local-height",i.$.accordionItemContent.scrollHeight+"px"),i.expanded=!1),i.expanded=!0,n.$.fireEvent("expanding",{index:e,label:i.label,content:i.content.innerHTML}),-1===n.expandedIndexes.indexOf(e)){let t=n.expandedIndexes.slice();t.push(e),n.expandedIndexes=t}n._supportCSSVariables&&n._usedCSSVariables||"singleFitHeight"!==n.expandMode||(i.$.accordionItemContent.style.height=n._expandedItemsContainerHeight-1+"px"),n._handleAnimationsDuration(i,e,"expand")}}_expandModeIs(e){return e.indexOf(this.expandMode)>-1}_focusHandler(){const e=this;e.disabled||0===e._items.length||(e._itemIsFocussed?e._selectedItem.focused=!1:e._items[0].focused=!1)}_getExpandedIndexes(e){const t=this,n=[];for(let i=0;i<t._items.length;i++)"initial"===e?t._items[i].hasAttribute("expanded")&&(n.push(i),t._items[i].removeAttribute("expanded")):t._items[i].expanded&&n.push(i);return n.slice()}_getItemsHeights(e){const t=this._items,n=t.length;let i=[];if(0!==n){if(!isNaN(e)&&e>=0&&e<n){const n=t[e];let i=0;return n.expanded?i=n.$.accordionItemContent.scrollHeight:(n.expanded=!0,i=n.$.accordionItemContent.scrollHeight,n.expanded=!1),i+"px"}for(let e=0;e<n;e++){const n=t[e];let a=0;n.expanded?a=n.$.accordionItemContent.scrollHeight:(n.expanded=!0,a=n.$.accordionItemContent.scrollHeight,n.expanded=!1),i.push(a+"px")}return this._heightCalcAfterInitialization=!0,i}}_handleAnimationsDuration(e,t,n){const i=this;if(!i._animationAfterInitialization)return;if(1===i._items.length&&"singleFitHeight"===i.expandMode)return void i.$.fireEvent(n,{index:t,label:e.label,content:e.content.innerHTML});if(!1===i.hasAnimation||!i._supportCSSVariables)return void i.$.fireEvent(n,{index:t,label:e.label,content:e.content.innerHTML});if(i._preventAnimation)return i.$.fireEvent(n,{index:t,label:e.label,content:e.content.innerHTML}),void(i._preventAnimation=!1);i._toggled=!0;let a,o=window.getComputedStyle(i).animationDuration;if(o.indexOf("ms")>-1)o=parseFloat(o.substring(0,o.length-2)),a=isNaN(o)||o<0?0:o-50;else{if(!(o.indexOf("s")>-1))return void i.$.fireEvent(n,{index:t,label:e.label,content:e.content.innerHTML});o=parseFloat(o.substring(0,o.length-1)),a=isNaN(o)||o<0?0:1e3*o-50}e&&(e.$.addClass("smart-toggled-item"),i.$container.addClass("smart-toggling"),setTimeout((function(){e.$.removeClass("smart-toggled-item"),i.$container.removeClass("smart-toggling"),i.$.fireEvent(n,{index:t,label:e.label,content:e.content.innerHTML}),i._toggled=!1}),a))}_indexChangeHandler(e){const t=this,n=t._items,i=n.length,a=e.detail;a.newIndex>=i?t.$.container.appendChild(n[a.oldIndex]):a.newIndex>a.oldIndex?t.$.container.insertBefore(n[a.oldIndex],n[a.newIndex+1]):t.$.container.insertBefore(n[a.oldIndex],n[a.newIndex]);let o=t.enableShadowDOM&&t.shadowRoot?t.shadowRoot.querySelectorAll("smart-accordion-item"):t.getElementsByTagName("smart-accordion-item");t._items=Array.from(o),t._updateItemsIndexProperty()}_keyDownHandler(e){const t=this,n=e.key;if("none"===t.expandMode||t.disabled||t.readonly||t._toggled)return;const i=(t.shadowRoot?t.shadowRoot.activeElement:document.activeElement)||document.activeElement;if(-1===["ArrowLeft","ArrowDown","ArrowRight","ArrowUp","End","Home"," ","Enter","Tab"].indexOf(n)||!(i instanceof Smart.AccordionItem))return;"Tab"!==n&&e.preventDefault();let a,o,r=t._items.length,s=r-1;for(let e=0;e<r;e++){let n=t._items[e];n.focused&&(a=n,o=e)}switch(n){case"Tab":e.shiftKey?l("up"):l("down");break;case"ArrowLeft":t.collapse(o);break;case"ArrowDown":l("down");break;case"ArrowRight":t.expand(o);break;case"ArrowUp":l("up");break;case"End":d(s);break;case"Home":d(0);break;case" ":case"Enter":if(a.expanded)return void t.collapse(o);t.expand(o);break;default:return}function d(e){e===o||isNaN(e)||(a.focused=!1,o=e,a=t._items[o],a.focused=!0)}function l(e){d("up"!==e?o+1>s?s:o+1:o-1<0?0:o-1)}}_containerMoveHandler(e){"touchmove"===e.originalEvent.type&&e.originalEvent.preventDefault()}_moveHandler(e){const t=this;if(e.stopPropagation(),!(!t._itemIsPressed||!t.reorder||t.readonly||t._items.length<2||!t.$container.hasClass("smart-reordering")&&Math.abs(e.pageY-t._pointerPosition)<5))if(t._dragStart){if(t.$container.hasClass("smart-reordering")||t.$container.addClass("smart-reordering"),!t._dragging){const n=t._selectedItem;t.$.fireEvent("dragStart",{position:{left:e.pageX,top:e.pageY},target:e.originalEvent.target,index:t._selectedItemIndex,label:n.label,content:n.content.innerHTML}),t._selectedItem.dragged=t._dragging=!0}if(t.hasAnimation){const e=t._selectedItem.querySelector(".smart-ripple");e&&(e.style.height=0)}const n=e.clientY;let i=!1;for(let e=0;e<t._itemsCoordinates.length;e++){const a=t._itemsCoordinates[e];if(n>=a.fromY&&n<=a.toY){i=e;break}}const a=t._items[i];if(!1!==i&&a!==t._selectedItem){if(t._lastReorderedItem&&a===t._lastReorderedItem)return;if(t._lastReorderedItem=a,Math.abs(t._reorderedIndex-i)>1){const e=t._reorderedIndex-i<0?-1:1;t._swapItems(t._reorderedIndex,i+e)}return t._swapItems(t._reorderedIndex,i),t._reorderedIndex=i,void t._storeItemsCoordinates()}t._lastReorderedItem=void 0}else t._dragStart=!0}_reorderItemsByIndex(){const e=this;let t=e.enableShadowDOM&&e.shadowRoot?e.shadowRoot.querySelectorAll("smart-accordion-item"):e.getElementsByTagName("smart-accordion-item"),n=Array.from(t),i=!1,a=n.map((function(e){return null!==e.index?i=!0:e.index=0,e.index}));if(!i)return;const o=n.length;if(o<2)return;let r=a.slice();if(r.sort((function(e,t){return parseInt(e)-parseInt(t)})),a.toString()!==r.toString())for(let n=0;n<o;n++){let i;for(let e=0;e<o;e++)t[e].index===r[n]&&(i=t[e]);e.$.container.insertBefore(i,t[n])}}_resizeHandler(){this._updateExpanedContentHeight(),this._updateInlineHeight(),this._storeItemsCoordinates()}_storeItems(){const e=this,t=e.enableShadowDOM&&e.shadowRoot?e.shadowRoot.querySelectorAll("smart-accordion-item"):e.getElementsByTagName("smart-accordion-item");if(e._items=Array.from(t),0===e._items.length)return void e.$container.addClass("smart-empty");e.$container.removeClass("smart-empty");const n=e._getItemsHeights();for(let t=0;t<e._items.length;t++)e._updateExpanedContentLocalHeight(e._items[t],n[t])}_storeItemsCoordinates(){const e=this;if(e.disabled||!e.reorder)return;const t=[];for(let n=0;n<e._items.length;n++){const i=e._items[n].getBoundingClientRect();t.push({fromY:i.top+(window.scrollY||window.pageYOffset),toY:i.bottom+(window.scrollY||window.pageYOffset)})}e._itemsCoordinates=t}_swapItems(e,t){const n=this,i=Math.min(e,t),a=Math.max(e,t),o=n._items;let r=n.expandedIndexes.slice();if(n._items[e].expanded&&!n._items[t].expanded){const i=r.indexOf(e);r[i]=t,n.expandedIndexes=r.slice()}else if(n._items[t].expanded&&!n._items[e].expanded){const i=r.indexOf(t);r[i]=e,n.expandedIndexes=r.slice()}n.selectedIndex=n.selectedIndex===e?t:e,n.$.container.insertBefore(o[a],o[i]),function(e,t,n){const i=e[n];e[n]=e[t],e[t]=i}(o,e,t),n._items[e].$.removeClass("hovered"),n._reorderedIndex=t}_toggleItems(e,t){const n=this,i=t.length;if(i>0)for(let a=0;a<i;a++)n["_"+e+"Item"](t[a])}_updateExpanedContentHeight(){const e=this;e.$.container.style.setProperty("--smart-accordion-item-header-height","");const t=e._items.length,n=e.$.container.offsetHeight,i=e._items[e.expandedIndexes[0]];let a=0,o=0,r=0,s=0;if(1===t){let t=e._items[0],n=t.expanded;t.expanded=!1,a=t.offsetHeight,o=t.$.accordionItemHeader.offsetHeight,t.expanded=n}else for(;0===a&&s<t;){const t=e._items[s];t instanceof Smart.AccordionItem&&!t.expanded&&(a=t.offsetHeight,o=t.$.accordionItemHeader.offsetHeight),s++}if(t>1&&i instanceof Smart.AccordionItem){r=i.$.accordionItemHeader.offsetHeight-o}const d=getComputedStyle(e.$.root);let l=n-a*t-r-parseFloat(d.paddingBottom)-parseFloat(d.paddingTop);"singleFitHeight"===e.expandMode&&(l=e._adjustHeightValue(l)),l=l>=0?l:0,e.$.container.style.setProperty("--smart-accordion-expanded-content-height",l+"px"),e.$.container.style.setProperty("--smart-accordion-item-header-height",o+"px"),e._expandedItemsContainerHeight=l}_updateExpanedContentLocalHeight(e,t){this._supportCSSVariables&&this._usedCSSVariables&&e.$.container.style.setProperty("--smart-accordion-expanded-content-local-height",t)}_updateInlineHeight(){this._supportCSSVariables&&this._usedCSSVariables||"singleFitHeight"!==this.expandMode||0===this._items.length||(this._items[this.expandedIndexes[0]].$.accordionItemContent.style.height=this._expandedItemsContainerHeight-1+"px")}_updateItemsIndexProperty(){const e=this;let t=[];for(let n=0;n<e._items.length;n++)e._items[n]._setIndex(n),e._items[n].expanded&&t.push(n);e.expandedIndexes=t.slice()}_upHandler(e){const t=this;if(t._itemIsPressed&&!t.disabled&&!t.readonly){for(let e=0;e<t._items.length;e++)e!==t._selectedItemIndex&&(t._items[e].focused=!1);if(t._selectedItem.focused=!0,t._dragging){const n=t._selectedItem;t.$container.removeClass("smart-reordering"),t.$.fireEvent("dragEnd",{position:{left:e.pageX,top:e.pageY},target:e.originalEvent.target,index:t._selectedItemIndex,label:n.label,content:n.content.innerHTML})}else t._selectedItem.expanded?t.collapse(t._selectedItemIndex,!0):t.expand(t._selectedItemIndex,!0);t._reorderedIndex=void 0,t._dragStart=!1,t._dragging=!1,t._itemIsPressed=!1,t._selectedItem.dragged=!1,t._updateItemsIndexProperty()}}_validateItemsIndex(e,t){const n=this;if(!(isNaN(parseInt(e))||e<0||e>n._items.length-1))return parseInt(e);n.log(n.localize("indexOutOfBound",{elementType:n.nodeName.toLowerCase(),method:t}))}})}]);