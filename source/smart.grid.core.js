
/* Smart HTML Elements v4.0.0 (2019-Aug) 
Copyright (c) 2011-2019 jQWidgets. 
License: https://htmlelements.com/license/ */

Smart("smart-grid",class extends Smart.ScrollViewer{static get properties(){return{adaptivityMode:{value:{responsiveLayout:{value:{enabled:{value:!1,type:"boolean"},autoShowHiddenCells:{value:!0,type:"boolean"},width:{value:900,type:"number"}},type:"object"},adaptiveLayout:{value:{enabled:{value:!1,type:"boolean"},width:{value:450,type:"number"}},type:"object"}},type:"object"},allowColumnReorder:{value:!1,type:"boolean"},allowRowReorder:{value:!1,type:"boolean"},allowColumnFixing:{value:!1,type:"boolean"},appearance:{value:{alternationStart:{value:0,type:"int"},alternationEnd:{value:0,type:"int"},alternationCount:{value:0,type:"int"},allowHover:{value:!1,type:"boolean",defaultReflectToAttribute:!0},allowHeaderHover:{value:!0,type:"boolean",defaultReflectToAttribute:!0},allowRowToggleAnimation:{value:!1,type:"boolean"},allowRowDetailToggleAnimation:{value:!1,type:"boolean"},allowSortAnimation:{value:!1,type:"boolean"},allowColumnLabelAnimation:{value:!0,type:"boolean"},allowCheckBoxesSelectionAnimation:{value:!0,type:"boolean"},allowColumnMenuAnimation:{value:!0,type:"boolean"},allowColumnSortButtonAnimation:{value:!0,type:"boolean"},allowColumnActionButtonAnimation:{value:!0,type:"boolean"},allowColumnFilterButtonAnimation:{value:!0,type:"boolean"},allowColumnStickyPosition:{value:!1,type:"boolean"},autoShowColumnSortButton:{value:!0,type:"boolean"},autoShowColumnActionButton:{value:!0,type:"boolean"},autoShowColumnFilterButton:{value:!0,type:"boolean"},sortAnimationDuration:{value:500,type:"number"},showRowHeader:{value:!1,type:"boolean"},showRowNumber:{value:!1,type:"boolean"},showColumnHeaderLines:{value:!0,type:"boolean",defaultReflectToAttribute:!0},showColumnLines:{value:!0,type:"boolean",defaultReflectToAttribute:!0},showRowLines:{value:!0,type:"boolean",defaultReflectToAttribute:!0},showFilterColumnBackground:{value:!0,type:"boolean"},showSortColumnBackground:{value:!0,type:"boolean"},showFrozenColumnBackground:{value:!0,type:"boolean"},showFrozenRowBackground:{value:!0,type:"boolean"},showColumnSortButton:{value:!0,type:"boolean"},showColumnFilterButton:{value:!0,type:"boolean"},showColumnDescriptionButton:{value:!1,type:"boolean"},showColumnIcon:{value:!1,type:"boolean"},showColumnCustomButton:{value:!1,type:"boolean"},showColumnActionButton:{value:!0,type:"boolean"},showTooltips:{value:!1,type:"boolean"},showResizeTooltips:{value:!0,type:"boolean"},showHorizontalScrollBarOnFixedColumns:{value:!1,type:"boolean"},showVerticalScrollBarOnFixedColumns:{value:!1,type:"boolean"}},type:"object"},clipboard:{value:{enabled:{value:!0,type:"boolean"},autoFillMode:{value:"copy",allowedValues:["none","copy","fillSeries"],type:"string"},onPasteValue:{value:null,type:"any"}},type:"object"},columns:{value:[],type:"object",reflectToAttribute:!1},columnWidth:{value:null,type:"any",reflectToAttribute:!1},columnChooser:{value:{allowSearch:{value:!1,type:"boolean"},visible:{value:!1,type:"boolean"},label:{value:"Column Chooser",type:"string"},mode:{value:"dragAndDrop",type:"string",allowedValues:["select","dragAndDrop"]},placeholder:{value:"Drag a column here to hide it",type:"string"},width:{value:250,type:"number"},height:{value:200,type:"number"}},type:"object"},columnMenu:{value:{autoClose:{value:!0,type:"boolean"},dataSource:{value:{columnMenuCustomizeType:{command:"customizeTypeCommand",enabled:!0,visible:!1,icon:"smart-icon-customize",label:"{{messages}}"},columnMenuItemRename:{command:"renameCommand",enabled:!0,visible:!1,icon:"smart-icon-rename",label:"{{messages}}"},columnMenuItemEditDescription:{command:"editDescriptionCommand",enabled:!0,visible:!1,icon:"smart-icon-info-circled",label:"{{messages}}"},columnMenuItemDuplicate:{command:"duplicateCommand",visible:!1,enabled:!0,icon:"smart-icon-duplicate",label:"{{messages}}"},columnMenuItemInsertLeft:{command:"insertLeftCommand",visible:!1,enabled:!0,icon:"smart-icon-insert-left",label:"{{messages}}"},columnMenuItemInsertRight:{command:"insertRightCommand",visible:!1,enabled:!0,icon:"smart-icon-insert-right",label:"{{messages}}"},columnMenuItemSortAsc:{command:"sortAscCommand",visible:"auto",enabled:!0,iconAlt:"smart-icon-sort-number-up",icon:"smart-icon-sort-name-up",label:"{{messages}}"},columnMenuItemSortDesc:{command:"sortDescCommand",visible:"auto",enabled:!0,iconAlt:"smart-icon-sort-number-down",icon:"smart-icon-sort-name-down",label:"{{messages}}"},columnMenuItemRemoveSort:{command:"removeSortCommand",visible:"auto",enabled:!0,icon:"smart-icon-cancel-circled",label:"{{messages}}"},columnMenuItemFilter:{command:"addFilterCommand",visible:"auto",enabled:!0,icon:"smart-icon-add-filter",label:"{{messages}}"},columnMenuItemRemoveFilter:{command:"removeFilterCommand",enabled:!0,visible:"auto",icon:"smart-icon-cancel-circled-outline",label:"{{messages}}"},columnMenuItemGroupBy:{command:"groupByCommand",enabled:!0,visible:"auto",icon:"smart-icon-object-group",label:"{{messages}}"},columnMenuItemRemoveGroupBy:{command:"removeGroupByCommand",visible:"auto",enabled:!0,icon:"smart-icon-object-ungroup",label:"{{messages}}"},columnMenuItemHide:{command:"hideColumnCommand",enabled:!0,visible:!1,icon:"smart-icon-hide",label:"{{messages}}"},columnMenuItemDelete:{command:"deleteColumnCommand",enabled:!0,visible:!1,icon:"smart-icon-delete",label:"{{messages}}"}},type:"object"},visible:{value:!1,type:"boolean"},width:{value:250,type:"number"},height:{value:null,type:"number?"}},type:"object"},columnGroups:{value:[],type:"array",reflectToAttribute:!1},columnHeight:{value:null,type:"any",reflectToAttribute:!1},columnMinHeight:{value:30,type:"any",reflectToAttribute:!1},columnResizeMode:{value:"none",type:"string",allowedValues:["none","split","growAndShrink"]},dataSource:{value:null,type:"object",reflectToAttribute:!1},displayLoadingIndicator:{value:!1,type:"boolean"},grouping:{value:{enabled:{value:!1,type:"boolean",reflectToAttribute:!1},allowCollapse:{value:!1,type:"boolean",reflectToAttribute:!1},autoExpandAll:{value:!1,type:"boolean",reflectToAttribute:!1},expandMode:{value:"buttonClick",type:"string",allowedValues:["buttonClick","rowClick"],reflectToAttribute:!1},groupRowHeight:{value:50,type:"any",reflectToAttribute:!1},toggleButtonIndent:{value:16,type:"number",reflectToAttribute:!1},groupIndent:{value:16,type:"number",reflectToAttribute:!1},groupBar:{value:{visible:{value:!1,type:"boolean",reflectToAttribute:!1},allowColumnDragDrop:{value:!1,type:"boolean",reflectToAttribute:!1},allowColumnCloseButtons:{value:!0,type:"boolean",reflectToAttribute:!1}},type:"object"},groupPanel:{value:{visible:{value:!1,type:"boolean",reflectToAttribute:!1}},type:"object"},summaryRow:{value:{inline:{value:!0,type:"boolean"},visible:{value:!0,type:"boolean"}},type:"object"}},type:"object"},messages:{extend:!0,value:{en:{invalidColumnProperty:"{{elementType}}: Invalid property name \"{{propertyName}}\" set for Column: \"{{type}}\"",invalidRowProperty:"{{elementType}}: Invalid property name \"{{propertyName}}\" set for Row\"",frozenColumns:"{{elementType}}: To Pin/Freeze a column group, all columns within it should be frozen.",frozenRows:"{{elementType}}: To Pin/Freeze a special cell, all rows within it should be frozen.",columnGroups:"{{elementType}}: Please, check the initialization of the smartGrid's columns array. The columns in a column group are expected to be siblings in the columns array.",min:"Min: {{value}}",max:"Max: {{value}} ",sum:"Sum: {{value}} ",avg:"Avg: {{value}} ",count:"Count: {{value}} ",pagerFirstButton:"First",pagerLastButton:"Last",pagerPreviousButton:"Previous",pagerNextButton:"Next",pagerNavigateToLabel:"Go to:",pagerPageSizeLabel:"Show:",pagerNavigateToInputPlaceholder:"",pagerEllipsis:"...",pagerSummaryString:"of",pagerSummaryPrefix:"of",pagerSummarySuffix:"",columnMenuCustomizeType:"Customize type",columnMenuItemRename:"Rename",columnMenuItemEditDescription:"Edit description",columnMenuItemDuplicate:"Duplicate",columnMenuItemInsertLeft:"Insert left",columnMenuItemInsertRight:"Insert right",columnMenuItemSortAsc:"Sort {{mode}}",columnMenuItemSortDesc:"Sort {{mode}}",columnMenuItemRemoveSort:"Remove Sort",columnMenuItemFilter:"Filter",columnMenuItemRemoveFilter:"Remove Filter",columnMenuItemGroupBy:"Group by this column",columnMenuItemRemoveGroupBy:"Remove Group",columnMenuItemHide:"Hide",columnMenuItemDelete:"Delete",commandBarAddRow:"Add",commandBarDeleteRow:"Delete",commandBarBatchRevert:"Revert",commandBarBatchSave:"Save",commandColumnEdit:"Edit",commandColumnDelete:"Delete",commandColumnCancel:"Cancel",commandColumnUpdate:"Update",commandColumnMenu:"",addNewRow:"Click here to add a new row",dialogEditHeader:"Edit {{value}}",dialogAddButtonConfirm:"ADD",dialogAddButtonCancel:"CANCEL",dialogEditButtonConfirm:"OK",dialogEditButtonCancel:"CANCEL",dialogDeleteButtonConfirm:"DELETE",dialogDeleteButtonCancel:"CANCEL",dialogAddHeader:"Add Row",dialogDeleteHeader:"Delete Row",dialogDeleteContent:"Are you sure you want to delete this row?"}},type:"object"},onCellValue:{value:null,type:"any",reflectToAttribute:!1},onBeforeInit:{value:null,type:"any",reflectToAttribute:!1},onInit:{value:null,type:"any",reflectToAttribute:!1},onKey:{value:null,type:"any",reflectToAttribute:!1},onRender:{value:null,type:"any",reflectToAttribute:!1},onRowInit:{value:null,type:"any",reflectToAttribute:!1},onRowDetailInit:{value:null,type:"any",reflectToAttribute:!1},onRowDetailUpdated:{value:null,type:"any",reflectToAttribute:!1},onRowInserted:{value:null,type:"any",reflectToAttribute:!1},onRowRemoved:{value:null,type:"any",reflectToAttribute:!1},onRowUpdated:{value:null,type:"any",reflectToAttribute:!1},onColumnInit:{value:null,type:"any",reflectToAttribute:!1},onColumnInserted:{value:null,type:"any",reflectToAttribute:!1},onColumnRemoved:{value:null,type:"any",reflectToAttribute:!1},onColumnUpdated:{value:null,type:"any",reflectToAttribute:!1},onCommand:{value:null,reflectToAttribute:!1,type:"any"},filtering:{value:{enabled:{value:!1,type:"boolean"},filter:{value:[],type:"array",reflectToAttribute:!1},filterRow:{value:{visible:{value:!1,type:"boolean"},menuVisible:{value:!1,type:"boolean"},applyMode:{value:"auto",type:"string",allowedValues:["auto","click"]},autoApplyModeDelay:{value:300,type:"number"}},type:"object"},filterMenu:{value:{visible:{value:!0,type:"boolean"},buttons:{value:["cancel","clear","filter"],type:"array"},dataSource:{value:null,type:"any"},width:{value:250,type:"number"},height:{value:200,type:"number"}},type:"object"},filterBuilder:{value:{visible:{value:!1,type:"boolean"},height:{value:null,type:"number?"}},type:"object"}},type:"object"},editing:{value:{active:{value:!1,readonly:!0,type:"boolean"},enabled:{value:!1,type:"boolean"},batch:{value:!1,type:"any"},action:{value:"click",type:"string",allowedValues:["none","click","doubleClick"]},commandKeys:{value:{commandKeyEdit:{value:{command:"commandKeyEditCommand",key:"F2"},type:"object"},commandKeyCancel:{value:{command:"commandKeyCancelCommand",key:"Escape"},type:"object"},commandKeyUpdate:{value:{command:"commandKeyUpdateCommand",key:"Enter | Tab"},type:"object"}},type:"object"},commandBar:{value:{visible:{value:!1,type:"boolean"},position:{value:"near",allowedValues:["near","far","both"],type:"string"},displayMode:{value:"labelAndIcon",allowedValues:["label","icon","labelAndIcon"],type:"string"},dataSource:{value:{commandBarAddRow:{value:{command:{value:"commandBarAddRowCommand",type:"any"},icon:{value:"smart-icon-plus",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!1,type:"any"}},type:"object"},commandBarDeleteRow:{value:{command:{value:"commandBarDeleteRowCommand",type:"any"},icon:{value:"smart-icon-delete",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!1,type:"any"}},type:"object"},commandBarBatchSave:{value:{command:{value:"commandBarBatchSaveCommand",type:"any"},icon:{value:"smart-icon-ok-squared",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!0,type:"any"}},type:"object"},commandBarBatchRevert:{value:{command:{value:"commandBarBatchRevertCommand",type:"any"},icon:{value:"smart-icon-ccw",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!0,type:"any"}},type:"object"}},type:"object"}},type:"object"},commandColumn:{value:{visible:{value:!1,type:"boolean"},inline:{value:!1,type:"boolean"},position:{value:"far",allowedValues:["near","far"],type:"string"},displayMode:{value:"icon",allowedValues:["label","icon","labelAndIcon"],type:"string"},dataSource:{value:{commandColumnMenu:{value:{command:{value:"commandColumnMenuCommand",type:"any"},icon:{value:"smart-icon-menu",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!1,type:"any"}},type:"object"},commandColumnEdit:{value:{command:{value:"commandColumnEditCommand",type:"any"},icon:{value:"smart-icon-rename",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:"auto",type:"any"}},type:"object"},commandColumnDelete:{value:{command:{value:"commandColumnDeleteCommand",type:"any"},icon:{value:"smart-icon-delete",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!0,type:"any"}},type:"object"},commandColumnUpdate:{value:{command:{value:"commandColumnUpdateCommand",type:"any"},icon:{value:"smart-icon-ok-squared",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:"auto",type:"any"}},type:"object"},commandColumnCancel:{value:{command:{value:"commandColumnCancelCommand",type:"any"},icon:{value:"smart-icon-cancel-circled",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:"auto",type:"any"}},type:"object"},commandColumnRowMenu:{value:{command:{value:"commandColumnRowMenuCommand",type:"any",reflectToAttribute:!1},icon:{value:"smart-icon-ellipsis-vert",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!1,type:"any"}},type:"object"},commandColumnCustom:{value:{command:{value:"",type:"any"},icon:{value:"smart-icon-ellipsis-vert",type:"string"},label:{value:"",type:"string"},visible:{value:!1,type:"any"}},type:"object"}},type:"object"},width:{value:null,type:"number?"}},reflectToAttribute:!1,type:"object"},mode:{value:"cell",allowedValues:["cell","row"],type:"string"},addNewRow:{value:{position:{value:"both",allowedValues:["near","far","both"],type:"string"},visible:{value:!1,type:"boolean"},autoCreate:{value:!1,type:"boolean"},autoSave:{value:!0,type:"boolean"},label:{value:"{{message}}",type:"string"},displayMode:{value:"row",allowedValues:["row","button"],type:"string"}},type:"object"},dialog:{value:{header:{value:"{{message}}",type:"string"},height:{value:"auto",type:"any"},width:{value:"auto",type:"any"},left:{value:"center",type:"any"},top:{value:"center",type:"any"},enabled:{value:!1,type:"boolean"},visible:{value:!1,type:"boolean"}},type:"object"},addDialog:{value:{header:{value:"{{message}}",type:"string"},height:{value:"auto",type:"any"},width:{value:"auto",type:"any"},left:{value:"center",type:"any"},top:{value:"center",type:"any"},enabled:{value:!1,type:"boolean"},visible:{value:!1,type:"boolean"}},type:"object"},deleteDialog:{value:{header:{value:"{{message}}",type:"string"},height:{value:"auto",type:"any"},width:{value:"auto",type:"any"},left:{value:"center",type:"any"},top:{value:"center",type:"any"},enabled:{value:!1,type:"boolean"},visible:{value:!1,type:"boolean"}},type:"object"}},type:"object"},loadingIndicatorPlaceholder:{value:"Loading...",type:"string"},loadingIndicatorPosition:{value:"center",allowedValues:["bottom","center","top"],type:"string"},paging:{value:{enabled:{value:!1,type:"boolean"},spinner:{value:{enabled:{value:!1,type:"boolean"},step:{value:1,type:"number"}},type:"object"},pageSize:{value:10,type:"int",validator:"pageSizeValidator"},pageIndex:{value:0,type:"int",validator:"pageIndexValidator"}},type:"object"},pager:{value:{autoEllipsis:{value:"both",allowedValues:["none","before","after","both"],type:"string"},position:{value:"far",allowedValues:["near","far","both"],type:"string"},template:{value:"",type:"string"},pageSizeSelector:{value:{visible:{value:!1,type:"boolean"},dataSource:{value:[10,20,50],type:"object"},position:{value:"far",allowedValues:["near","far"],type:"string"}},type:"object"},summary:{value:{position:{value:"far",allowedValues:["near","far"],type:"string"},visible:{value:!1,type:"boolean"}},type:"object"},navigationButtons:{value:{position:{value:"both",allowedValues:["near","far","both"],type:"string"},prevNextButtons:{value:{visible:{value:!0,type:"boolean"}},type:"object"},firstLastButtons:{value:{visible:{value:!0,type:"boolean"}},type:"object"},labels:{value:{visible:{value:!1,type:"boolean"}},type:"object"}},type:"object"},navigationInput:{value:{position:{value:"far",allowedValues:["near","far"],type:"string"},visible:{value:!1,type:"boolean"}},type:"object"},pageIndexSelectors:{value:{visible:{value:!0,type:"boolean"},dataSource:{value:10,type:"any"}},type:"object"},visible:{value:!1,type:"boolean"}},type:"object",reflectToAttribute:!1},placeholder:{value:"No Rows",type:"string"},rowDetail:{value:{enabled:{value:!1,type:"boolean"},height:{value:200,type:"number"},position:{value:"near",allowedValues:["near","far"],type:"string"},template:{value:"",type:"any",reflectToAttribute:!1},visible:{value:!0,type:"boolean"},dialog:{value:{header:{value:"{{message}}",type:"string"},height:{value:"auto",type:"any"},width:{value:"auto",type:"any"},left:{value:"center",type:"any"},top:{value:"center",type:"any"},enabled:{value:!1,type:"boolean"},visible:{value:!1,type:"boolean"}},type:"object"}},type:"object"},rowMinHeight:{value:30,type:"number"},rowHeight:{value:null,type:"any",reflectToAttribute:!1},rowResizeMode:{value:"none",type:"string",allowedValues:["none","split","growAndShrink"]},summaryRow:{value:{position:{value:"far",allowedValues:["near","far"],type:"string"},visible:{value:!1,type:"boolean"},template:{value:"",type:"string"}},type:"object"},scrollMode:{value:"physical",allowedValues:["physical","virtual","infinite","deferred"],type:"string"},columnHeader:{value:{visible:{value:!0,type:"boolean"}},type:"object"},groupHeader:{value:{visible:{value:!1,type:"boolean"},template:{value:"",type:"string"}},type:"object"},header:{value:{visible:{value:!1,type:"boolean"},template:{value:"",type:"string"}},type:"object"},footer:{value:{visible:{value:!1,type:"boolean"},template:{value:"",type:"string"}},type:"object"},selection:{value:{enabled:{value:!1,type:"boolean"},allowRowHeaderSelection:{value:!1,type:"boolean"},allowColumnHeaderSelection:{value:!1,type:"boolean"},allowRowSelection:{value:!0,type:"boolean"},allowCellSelection:{value:!1,type:"boolean"},allowDragSelection:{value:!0,type:"boolean"},allowDragSelectionAutoScroll:{value:!0,type:"boolean"},allowCellDragSelectionHandle:{value:!0,type:"boolean"},allowCellDragDropSelectionHandle:{value:!0,type:"boolean"},allowCellDragSelectionAutoFill:{value:!0,type:"boolean"},selectAllMode:{value:"page",allowedValues:["none","page","all"],type:"string"},mode:{value:"many",type:"string",allowedValues:["one","many","extended"]},action:{value:"click",type:"string",allowedValues:["none","click","doubleClick"]},checkBoxes:{value:{enabled:{value:!1,type:"boolean"},action:{value:"click",type:"string",allowedValues:["none","click","doubleClick"]},selectAllMode:{value:"page",allowedValues:["none","page","all"],type:"string"},position:{value:"near",allowedValues:["near","far"],type:"string"}},type:"object"},selected:{value:"",type:"string"}},type:"object"},sorting:{value:{enabled:{value:!1,type:"boolean"},sort:{value:[],type:"array"},mode:{value:"one",allowedValues:["one","many"],type:"string"},sortToggleThreeStates:{value:!0,type:"boolean"}},type:"object"}}}static get requires(){return{}}static get styleUrls(){return["smart.grid.css"]}template(){return`<div class=\'smart-container\'id=\'container\' disabled=\'[[disabled]]\' role=\'grid\'>
                <div id=\'header\' class=\'smart-grid-header smart-hidden\' ></div>
                <div id=\'groupHeader\' class=\'smart-grid-group-header smart-hidden\'></div>
                <div id=\'headerPager\' top class=\'smart-grid-pager smart-hidden\'></div>
                <div id=\'headerCommandBar\' header top class=\'smart-grid-header smart-grid-command-bar smart-hidden\'></div>
                 <div id=\'content\' class=\'smart-grid-content\'>
                    <div id=\'placeholder\' class =\'smart-hidden smart-placeholder smart-grid-placeholder\'>[[placeholder]]</div>
                    <div id=\'columnHeader\' class=\'smart-grid-column-header\'>
                        <div id=\'columnNearContainer\' class=\'near smart-hidden smart-grid-column-header-cell-container\'>
                       </div>
                       <div id=\'columnContainer\' class=\'center smart-grid-column-header-cell-container\'>
                       </div>
                        <div id=\'columnFarContainer\' class=\'far smart-hidden smart-grid-column-header-cell-container\'>
                       </div>
                    </div>
                    <div id=\'scrollView' class =\'smart-grid-scroll-view\'>
                        <div id=\'rowNearContainer\' class=\'near smart-hidden smart-grid-row-container\'>
                        </div>
                         <div id=\'rowContainer\' class=\'center smart-grid-row-container\'>
                        </div>
                        <div id=\'rowFarContainer\' class=\'far smart-hidden smart-grid-row-container\'>
                        </div>
                        <smart-scroll-bar id=\'verticalScrollBar\' class=\'smart-grid-scroll-bar\' wait disabled=\'[[disabled]]\' orientation=\'vertical\'></smart-scroll-bar>
                        <smart-scroll-bar id=\'horizontalScrollBar\' class=\'smart-grid-scroll-bar\' wait disabled=\'[[disabled]]\'></smart-scroll-bar>
                    </div>
                  <div id=\'filterFooter\' class=\'smart-grid-filter-footer smart-hidden\'></div>
                </div>
                <div id=\'loadingIndicatorContainer\' class=\'smart-loader-container\'>
                    <span id=\'loadingIndicator\' class=\'smart-grid-loader smart-loader\'></span>
                    <span id=\'loadingIndicatorPlaceHolder\' class =\'smart-loader-label smart-hidden\'>[[loadingIndicatorPlaceholder]]</span>
                </div>
                <div id=\'footerCommandBar\' footer class=\'smart-grid-footer smart-grid-command-bar smart-hidden\'></div>
                <div id=\'footerPager\' class=\'smart-grid-pager smart-hidden\'></div>
                <div id=\'footer\' class=\'smart-grid-footer smart-hidden\'></div>
            </div>`}static get listeners(){return{focus:"_focusHandler",blur:"_blurHandler",wheel:"_mouseWheelHandler","document.up":"_upHandler","document.move":"_moveHandler","document.down":"_downHandler","document.scroll":"_scrollHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler",resize:"_resizeHandler","columnHeader.down":"_columnDownHandler","columnHeader.move":"_columnMoveHandler","columnHeader.mouseleave":"_columnMouseLeaveHandler","rowNearContainer.down":"_rowDownHandler","rowContainer.down":"_rowDownHandler","rowFarContainer.down":"_rowDownHandler",selectstart:"_selectStartHandler",styleChanged:"_styleChangedHandler",swipeleft:"_swipeLeftHandler",swiperight:"_swipeRightHandler"}}pageSizeValidator(e,t){const o=this;return 0>t?0:o.dataSource&&t>o.dataSource.length?o.dataSource.length:void 0}pageIndexValidator(e,t){const o=this;if(0>t)return 0;if(o.dataSource){const e=Math.ceil(o.dataSource.length/o.paging.pageSize);if(t>e)return e}}_offsetTop(e){const t=this;return e?e.offsetTop+t._offsetTop(e.offsetParent):0}_offsetLeft(e){const t=this;return e?e.offsetLeft+t._offsetLeft(e.offsetParent):0}offset(e){return{left:this._offsetLeft(e),top:this._offsetTop(e)}}getBoundingRect(e){let t=window.pageXOffset,o=window.pageYOffset,l=e.getBoundingClientRect();if(e!==document.body)for(let l=e.parentNode;l!==document.body;)t+=l.scrollLeft,o+=l.scrollTop,l=l.parentNode;return{bottom:l.bottom+o,height:l.height,left:l.left+t,right:l.right+t,top:l.top+o,width:l.width}}_downHandler(){}_upHandler(e){const t=this,o=t.getBoundingRect(t);if(t._tapTimer&&clearTimeout(t._tapTimer),(e.pageX<o.left||e.pageX>o.right||e.pageY<o.top||e.pageY>o.bottom)&&(t._inputOverlay&&(t._inputOverlay.classList.remove("smart-input-overlay-on"),setTimeout(()=>{t._inputOverlay&&(t._inputOverlay.parentNode&&t._inputOverlay.parentNode.removeChild(t._inputOverlay),t._inputOverlay=null)},300)),t.editing.isEditing&&!t.editing.dialog.enabled&&setTimeout(()=>{e.defaultPrevented||t.editing.editCell&&t.editing.editCell.editor.instance&&(t.editing.editCell.editor.instance.blur(e),e.defaultPrevented)||t.endEdit()},50),t.menu)){const o=e.originalEvent.target;if(!t.contains(o)&&!t.menu.contains(o)){const e=t.menu.querySelectorAll("smart-drop-down-list"),l=t.menu.querySelectorAll("smart-date-time-picker");for(let t=0;t<e.length;t++){const l=e[t],i=l.$.dropDownContainer;if(i.contains(o))return}for(let e=0;e<l.length;e++){const t=l[e],i=t.$.dropDownContainer;if(i.contains(o))return}return void t.closeMenu()}}if(t._dragSelectionEnd(),t.classList.remove("smart-grid-resize-mode"),t.$.root.classList.remove("smart-grid-resize-mode"),t._rowToResize&&t._rowResizeStartLine&&t._rowResizeLine){const e=t.rowById[t._rowToResizeId],o=e.cellHeight+parseFloat(t._rowResizeLine.style.top)-parseFloat(t._rowResizeStartLine.style.top);if(t.rows.canNotify=!1,e.height=null,"split"===t.rowResizeMode){const l=t._nextRow(e),i=parseInt(e.height-o+e.cellHeight);e.computedHeight=o,l.computedHeight=parseInt(l.height)+i,l.height=null}else e.computedHeight=o;return t.rows.canNotify=!0,t._rowResizeStartLine.parentNode.removeChild(t._rowResizeStartLine),t._rowResizeLine.parentNode.removeChild(t._rowResizeLine),t.appearance.showResizeTooltips&&t._rowResizeTooltip.parentNode.removeChild(t._rowResizeTooltip),t._rowResizeLine=null,t._rowToResize=null,t._rowToResizeId=null,void t.refresh()}if(!t._columnToResizeElement||!t._columnResizeLine)return;const l=t.columnByDataField[t._columnToResizeDataField],i=t._columnToResizeRect,n=o.left+parseInt(t._columnResizeLine.style.left)-i.left+t.scrollLeft;if(t.columns.canNotify=!1,"split"===t.columnResizeMode){const e=t._nextColumn(l),o=parseInt(l.computedWidth-n);l.width=n,e.width=parseInt(e.computedWidth)+o}else l.width=n;t.columns.canNotify=!0,t._columnResizeLine.parentNode.removeChild(t._columnResizeLine),t._columnResizeLine=null,t._columnResizeStartLine.parentNode.removeChild(t._columnResizeStartLine),t._columnResizeTooltip.parentNode&&t._columnResizeTooltip.parentNode.removeChild(t._columnResizeTooltip),t._columnResizeStartLine=null,t._columnToResizeElement=null,t._columnToResizeRect=null,t._columnToResizeDataField=null,t._columnResizeTooltip=null,t.refresh()}_nextColumn(e){const t=this;for(let o=0;o<t.viewColumns.length;o++){const l=t.viewColumns[o];if(l.visibleIndex===e.visibleIndex+1)return l}return null}_nextRow(e){const t=this,o=t._recyclingRows,l=o.indexOf(e);return 0<=l?o[l+1]:null}_columnMoveResizeHandler(e){const t=this,o=5,l=function(e){const o=t._columnToResizeRect,l=e.left+parseFloat(t._columnResizeLine.style.left)-o.left+t.scrollLeft;t.appearance.showResizeTooltips&&(t._columnResizeTooltip.innerHTML="w: "+parseInt(l)+"px")};if(t._columnResizeLine){const o=t.columnByDataField[t._columnToResizeDataField],i=t._columnToResizeRect,n=o.minWidth,a=o.maxWidth,r=t._nextColumn(o),s=t.getBoundingRect(t);if(e.pageX<s.left)return;if("split"===t.columnResizeMode&&r&&e.pageX>=s.left+r.left+r.width-r.minWidth-t.scrollLeft)return t._columnResizeLine.style.left=-s.left+s.left+r.width+r.left-r.minWidth-t.scrollLeft+"px",void l(s);if(i.left+n-t.scrollLeft>=e.pageX)return t._columnResizeLine.style.left=-s.left+i.left+n-t.scrollLeft+"px",void l(s);if(i.left+a-t.scrollLeft<=e.pageX)return t._columnResizeLine.style.left=-s.left+i.left+a-t.scrollLeft+"px",void l(s);t._columnResizeLine.style.left=-s.left+e.pageX+"px",l(s)}else{const t=this,l=document.elementsFromPoint(e.clientX,e.clientY);let i=null,n=null;if(t._columnResizeLine)return;for(let e=0;e<l.length;e++){const t=l[e];if(t.hasAttribute("data-field")&&t.hasAttribute("header")){i=t.getAttribute("data-field"),n=t;break}}if(t._columnToResizeElement&&(t._columnToResizeElement.style.cursor="",t._columnToResizeElement=null),i){const l=n.getBoundingClientRect().right;if(n.style.cursor="",l-o<=e.clientX&&e.clientX<=l+o){const e=t.columnByDataField[i];if(!e||e&&!e.allowResize)return;const o=t._isLastVisibleColumn(e);if("split"===t.columnResizeMode&&o)return;n.style.cursor="col-resize",t._columnToResizeRect=t.getBoundingRect(n),t._columnToResizeElement=n,t._columnToResizeDataField=i}}}}_moveHandler(e){const t=this;t.selection.enabled&&t.selection.allowDragSelection&&!t.editing.isEditing&&(!t._selection.selectionRect||t._selection.selectionRect&&!t._selection.selectionRect.captured)&&(t._dragSelection(e),Smart.Utilities.Core.isMobile&&e.originalEvent.preventDefault()),"none"!==t.columnResizeMode&&t._columnMoveResizeHandler(e),"none"!==t.rowResizeMode&&t._rowMoveResizeHandler(e)}_rowMoveResizeHandler(e){const t=this,o=document.elementsFromPoint(e.clientX,e.clientY),l=5;let i=null,n=null;if(t._rowResizeLine){const o=t._offsetTop(t.$.scrollView),i={top:o,bottom:t.$.scrollView.offsetHeight+o};if(e.pageY<=i.top)return;if(e.pageY>=i.bottom)return;const n=function(){const e=a.cellHeight+parseFloat(t._rowResizeLine.style.top)-parseFloat(t._rowResizeStartLine.style.top);t.appearance.showResizeTooltips&&(t._rowResizeTooltip.innerHTML="h: "+parseInt(e)+"px")},a=t.rowById[t._rowToResizeId],r=t._nextRow(a),s=t._rowToResizeBounds,d=a.minHeight,u=a.maxHeight;return"split"===t.rowResizeMode&&r&&s.bottom+r.height-r.minHeight<=e.pageY?(t._rowResizeLine.style.top=s.bottom+r.height-r.minHeight-o+"px",void n()):s.top+d+l>=e.pageY?(t._rowResizeLine.style.top=s.top+d+l-o+"px",void n()):s.top+u>=e.pageY-o?(t._rowResizeLine.style.top=s.top+u+l-o+"px",void n()):(t._rowResizeLine.style.top=-o+e.pageY-1+"px",void n())}for(let t=0;t<o.length;t++){const e=o[t];if(e.hasAttribute("data-id")&&e.hasAttribute("header")){n=e,i=e.getAttribute("data-id");break}}if(t._rowToResize&&(t._rowToResize.style.cursor="",t._rowToResize=null),null!==i){const o=t._offsetTop(n)+n.offsetHeight;if(n.style.cursor="",o-l<=e.clientY&&e.clientY<=o+l){const e=t.rowById[i];if(!e||e&&!e.allowResize)return;e.header&&(e.header.style.cursor="row-resize");const o=t._offsetTop(n);t._rowToResizeBounds={top:o,bottom:n.offsetHeight+o,height:n.offsetHeight},t._rowToResize=n,t._rowToResizeId=i}}}_rowDownResizeHandler(){const e=this,t=e._rowToResizeBounds,o=function(){const o=document.createElement("div");return o.classList.add("smart-grid-resize-line","row"),o.style.width=e.$.scrollView.offsetWidth-e._rowToResize.offsetLeft+"px",o.style.left="0px",o.style.top=-e._offsetTop(e.$.scrollView)+t.bottom+"px",o},l=document.createElement("div");l.classList.add("smart-grid-resize-tooltip"),e._rowResizeTooltip=l,e._rowResizeTooltip.style.top=-e._offsetTop(e.$.scrollView)+t.bottom+"px",e._rowResizeTooltip.innerHTML="h: "+parseInt(t.height)+"px",e._rowResizeTooltip.style.right="20px",e._rowResizeTooltip.style.bottom="initial","growAndShrink"===e.rowResizeMode&&(e.classList.add("smart-grid-resize-mode"),e.$.root.classList.add("smart-grid-resize-mode")),e._rowResizeLine=o(),e._rowResizeStartLine=o(),e.$.scrollView.appendChild(e._rowResizeLine),e.$.scrollView.appendChild(e._rowResizeStartLine),e.appearance.showResizeTooltips&&e.$.scrollView.appendChild(e._rowResizeTooltip)}_rowResizeHandler(e){const t=this;let o=e.clientX,l=e.clientY;(o===void 0||l===void 0)&&(o=e.touches[0].clientX,l=e.touches[0].clientY);const n=document.elementsFromPoint(o,l);let a=null;for(let t=0;t<n.length;t++){const e=n[t];e.getAttribute("data-id")&&(a=e.getAttribute("data-id"))}if(null!==a&&t._rowToResize&&!t._rowResizeLine)return void t._rowDownResizeHandler(e)}_columnMouseLeaveHandler(){const e=this;for(let t=0;t<e._columnElements.length;t++){const o=e._columnElements[t],l=o.column;l&&l.autoShowActionButton&&o._hideActionButton()}}_columnMoveHandler(e){const t=this;if(!(t._columnResizeStartLine||t._rowResizeStartLine))for(let o=0;o<t._columnElements.length;o++){const l=t._columnElements[o],i=l.column;if(i&&i.autoShowActionButton){const o=l.getBoundingClientRect(),n=t.offset(l);if(!(n.left<=e.pageX&&n.left+o.width-6>=e.pageX))l._hideActionButton();else if(n.top<=e.pageY&&n.top+o.height>=e.pageY){if(!t.hasColumnMenu(i))continue;l._showActionButton()}else l._hideActionButton()}}}_columnDownResizeHandler(){const e=this,t=e._columnToResizeRect,o=e.getBoundingRect(e.$.columnHeader),l=function(){const e=document.createElement("div");return e.classList.add("smart-grid-resize-line"),e.style.left=-o.left+t.right+"px",e.style.top=-o.top+t.top+"px",e.style.height="calc(100% - "+e.style.top+")",e},i=document.createElement("div");i.classList.add("smart-grid-resize-tooltip"),e._columnResizeTooltip=i,e._columnResizeTooltip.style.left=-o.left+t.right+"px",e._columnResizeTooltip.innerHTML="w: "+parseInt(t.width)+"px",e._columnResizeLine=l(),e._columnResizeStartLine=l(),"growAndShrink"===e.columnResizeMode&&(e.classList.add("smart-grid-resize-mode"),e.$.root.classList.add("smart-grid-resize-mode")),e.appearance.showResizeTooltips&&e.$.root.appendChild(e._columnResizeTooltip),e.$.root.appendChild(e._columnResizeLine),e.$.root.appendChild(e._columnResizeStartLine)}_columnDownHandler(e){const t=this,o=document.elementsFromPoint(e.clientX,e.clientY);let l=null,i=null;for(let t=0;t<o.length;t++){const e=o[t];if(e.classList.contains("smart-action-button"))return;if(e.getAttribute("data-field")){l=e.getAttribute("data-field"),i=e;break}}if(l){const o=i.column;if(!o)return;if("_commandColumn"===l)return void t._applyCommand(t.editing.commandColumn.dataSource.commandColumnMenu.command);const n=function(i){const n=o.selectionColumn?t.selection.checkBoxes.action===i&&t.selection.enabled:t.selection.action===i&&t.selection.enabled;if(n){if(t._dragSelectionStartDataField=e.shiftKey||e.ctrlKey?null:l,"_checkBoxColumn"===l)return void t._toggleColumnSelection(o);t._setSelection(null,o.dataField,e),t.$.fireEvent("change")}};if(t.$.fireEvent("columnClick",{column:o}),300>new Date-t._clickTime&&(t.$.fireEvent("columnDoubleClick",{column:o}),n("doubleClick")),n("click"),t._columnToResizeElement&&!t._columnResizeLine)return void t._columnDownResizeHandler(e);Smart.Utilities.Core.isMobile?(300>new Date-t._clickTime&&o.allowSortToggleOnClick&&t.sorting.enabled&&t.sortBy(l),t._columnMoveHandler(e),e.originalEvent.preventDefault()):o.allowSortToggleOnClick&&t.sorting.enabled&&t.sortBy(l),t._clickTime=new Date}t.closeMenu()}addTransformMoveStyle(e,t,o,l,i,n){e.style.opacity=n,e.style["transition-duration"]=t,e.style.transform="translate3d("+o+"px,"+l+"px,"+i+"px)"}removeTransformMoveStyle(e){e.style.opacity="",e.style["transition-duration"]="",e.style.transform=""}_rowDownHandler(e){const t=this;if(t._inputOverlay&&t._inputOverlay.classList.remove("smart-input-overlay-on"),t.closeMenu(),t._rowResizeHandler(e),t._toggledRow&&t.appearance.allowRowToggleAnimation)return;let o=e.clientX,l=e.clientY;e.touches&&(o=e.touches[0].clientX,l=e.touches[0].clientY);const n=document.elementsFromPoint(o,l);let a=null,r=null,s=null;t._lastPointerDownTime=new Date;for(let t=0;t<n.length;t++){const e=n[t];if(e.hasAttribute("toggle-button")&&(r=e),s||"smart-grid-cell"!==e.nodeName.toLowerCase()||(s=e),!a&&"smart-grid-row"===e.nodeName.toLowerCase()){a=e;break}}if(a&&s){const o=s?s.cell:null;if(r&&o&&!o.column.rowDetailColumn||0<t._adaptiveLayout&&!1===a.row.leaf){const e=a.row;e.toggle()}else if(t.rowDetail.enabled&&t.rowDetail.visible&&r&&o&&o.column.rowDetailColumn){const e=a.row;e.showDetail?t.hideDetail(e.id):t.showDetail(e.id)}else{const o=a.row,l=s?s.cell:null;t.$.fireEvent("rowClick",{row:o,originalEvent:e.originalEvent}),t.$.fireEvent("cellClick",{cell:l,originalEvent:e.originalEvent}),t._tapTimer&&clearTimeout(t._tapTimer),t._tapTimer=setTimeout(function(){t._clickedRow===a&&t.$.fireEvent("rowTap",{row:o,originalEvent:e.originalEvent}),t._clickedCell===s&&t.$.fireEvent("cellTap",{cell:l,originalEvent:e.originalEvent})},300);const i=function(i){!t.selection.enabled||o.autoGenerated||(t.selection.action===i?(t._dragSelectionStartRow=e.shiftKey||e.ctrlKey?null:!t.selection.allowRowHeaderSelection&&l.column.autoGenerated?null:a.row,t._dragSelectionStartDataField=e.shiftKey||e.ctrlKey?null:l.column.dataField,t._setSelection(o.id,l.column.dataField,e),t.$.fireEvent("change")):l.column.selectionColumn&&t.selection.checkBoxes.enabled&&t.selection.checkBoxes.action===i&&(t._setSelection(o.id,l.column.dataField,e),t.$.fireEvent("change")))},n=l.selected;i("click"),o.autoGenerated||l.column.autoGenerated||l.template?(t._onRowClick(o.index,o,e),t._onCellClick(l,e)):t.selection.enabled?t.selection.allowCellSelection?!0===n&&n===l.selected&&!t.selection.isDragging&&t._clickedCell===s&&300>new Date-t._clickTime&&(t._onRowClick(o.index,o,e),t._onCellClick(l,e)):t.selection.allowRowSelection?!0===n&&n===l.selected&&!t.selection.isDragging&&t._clickedCell===s&&300>new Date-t._clickTime&&(t._onRowClick(o.index,o,e),t._onCellClick(l,e)):(t._onRowClick(o.index,o,e),t._onCellClick(l,e)):(t._onRowClick(o.index,o,e),t._onCellClick(l,e)),300>new Date-t._clickTime&&(t._clickedRow===a&&(t._onRowDoubleClick(o.index,o,e,e),t.$.fireEvent("rowDoubleClick",{row:o,originalEvent:e.originalEvent}),i("doubleClick")),t._clickedCell===s&&(t._onCellDoubleClick(l,e),t.$.fireEvent("cellDoubleClick",{cell:l,originalEvent:e.originalEvent}))),t._clickedRow=a,t._clickedCell=s,t._clickTime=new Date}}}showDetail(e){const t=this,o=t.rowById[e];o&&(o.showDetail=!0)}hideDetail(e){const t=this,o=t.rowById[e];o&&(o.showDetail=!1)}_focusHandler(){const e=this;e._focused=!0}_blurHandler(){const e=this;e._focused=!1}_refreshPaging(e){const t=this;requestAnimationFrame(()=>{t._refreshLayout(),t._refreshSelection(),e||(t._initializeRowElements(),t._refreshLayout()),t.dataSource&&t.dataSource.virtualDataSource?t._virtualDataRequest(e?"pageIndexChange":"pageSizeChange"):t._recycle(!1);const o=t.paging.pageIndex*t.paging.pageSize,l=o+t.paging.pageSize;t.$.fireEvent("page",{data:{first:o,last:l,size:l-o}})})}_notify(e,t,o){const l=this;if(l.notifyFn)for(let n=0;n<l.notifyFn.length;n++)l.notifyFn[n](e,t,o)}notify(e){const t=this;e&&(!t.notifyFn&&(t.notifyFn=[]),t.notifyFn.push(e))}_applyTemplate(e,t){let o=null;if(null===e||""===e)return void(t.innerHTML="");if((e.startsWith("#")||e.startsWith("."))&&(o=document.querySelector(e)),o)t.innerHTML="",t.appendChild(o.content.cloneNode(!0).firstElementChild);else{const o=function(e){const t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild},l=o(e);l&&(t.innerHTML="",t.appendChild(l))}}propertyChangedHandler(e,t,o){const l=this;if(l.isInitialized){switch(l._notify(e,t,o),e){case"appearance_showColumnHeaderLines":case"appearance_showColumnLines":case"appearance_showRowLines":return void l._recycle();case"appearance_allowColumnStickyPosition":{o?l._stickHeader():l._unstickHeader();break}case"appearance_showColumnIcon":{for(let e=0;e<l.columns.length;e++){const t=l.columns[e];t.setProperty("showIcon",l.appearance.showColumnIcon)}l._recycle();break}case"appearance_showRowNumber":case"appearance_showRowHeader":{l._initializeRowNumberColumn();const e=l._frozenNearColumns[0];e.rowNumbersColumn&&e.element&&!e.element.parentNode&&l.$.columnNearContainer.appendChild(e.element),l.refresh();break}case"header_template":{l._applyTemplate(o,l.$.header);break}case"footer_template":{l._applyTemplate(o,l.$.footer);break}case"columnWidth":{l.columns.canNotify=!1;let e=parseInt(o);if(isNaN(e)&&(e="auto"),30<=e||"auto"===e)for(let t=0;t<l.columns.length;t++){const o=l.columns[t];o.width=e}l.columns.canNotify=!0,l.refresh();break}case"columnHeader_visible":{l.__columnHeaderHeight=null,l.refresh();break}case"selection_checkBoxes_enabled":{l._selectionColumn.visible=o;break}case"selection_checkBoxes_position":{let e=l.viewColumns.indexOf(l._selectionColumn);l.viewColumns.canNotify=!1,l.viewColumns.splice(e,1);const t=l._frozenNearColumns.indexOf(l._selectionColumn),i=l._frozenFarColumns.indexOf(l._selectionColumn);if(0<=t&&l._frozenNearColumns.splice(t,1),0<=i&&l._frozenFarColumns.splice(i,1),"far"===o)l._selectionColumn.canNotify=!1,l._selectionColumn.freeze="far",l._selectionColumn.canNotify=!0,l._frozenFarColumns.splice(0,0,l._selectionColumn),l.viewColumns.push(l._selectionColumn),l.$.columnFarContainer.appendChild(l._selectionColumn.element);else{let e=0,t=0;for(let o=0;o<l.viewColumns.length&&(l.viewColumns[o].autoGenerated||l.viewColumns[o].dataField!==l.columns[t++].dataField);o++)l.viewColumns[o].autoGenerated&&e++;l._selectionColumn.canNotify=!1,l._selectionColumn.freeze="near",l._selectionColumn.canNotify=!0,l._frozenNearColumns.splice(e,0,l._selectionColumn),l.viewColumns.splice(e,0,l._selectionColumn),l.$.columnNearContainer.appendChild(l._selectionColumn.element)}l.viewColumns.canNotify=!0;break}case"filtering_enabled":return void(o&&l._createFilterPanels());case"filtering_filter":for(let e=0;e<l.columns.length;e++){const t=l.columns[e];t.canNotify=!1,t.setProperty("filter",null),t.canNotify=!0}for(let e=0;e<l.filtering.filter.length;e++){const t=l.filtering.filter[e];if(t){const e=t[0],o=t.splice(1);let i=null;if(o instanceof Smart.FilterGroup)i=o;else{const t=l.columnByDataField[e];t&&(i=l.dataSource._createFilter(t.dataType,o))}i&&l.addFilter(e,i,!1)}}return void l.refreshFilters();case"paging_pageIndex":case"pager_position":case"pager_visible":return void l._refreshPaging(!0);case"paging_pageSize":return void l._refreshPaging(!1);case"columns":return void l._renderColumns();case"dataSource":return void l._renderRows();case"displayLoadingIndicator":return void l._setLoadingIndicatorVisibility();case"filterable":return void l._refreshLayout();case"selectionMode":return;case"editing_addNewRow_position":return l._renderAddNewRow(),void l.refresh();case"editing_dialog_visible":return;}l.refresh()}}clearSelection(){const e=this;e.dataSource&&0!==e.dataSource.length&&e._recycle()}ready(){super.ready();const e=this,t=e._scrollView.vScrollBar,o=e._scrollView.hScrollBar;t.hasStyleObserver=!1,o.hasStyleObserver=!1,t.hasResizeObserver=!1,o.hasResizeObserver=!1,t.wait=!1,o.wait=!1,t.onChange=e._verticalScrollbarHandler.bind(e),o.onChange=e._horizontalScrollbarHandler.bind(e),e.setFocusable(!0),e._setLoadingIndicatorVisibility(),e._cellsMerge=[],e._render()}_createFilterPanels(){const e=this;if(!e._filterPanels)e._filterPanels=[];else return;e.filtering.enabled&&0===e._filterPanels.length&&requestAnimationFrame(()=>{const t=document.createElement("smart-filter-panel"),o=document.createElement("smart-filter-panel"),l=document.createElement("smart-filter-panel"),i=document.createElement("smart-filter-panel");for(let n in o.filterType="boolean",l.filterType="numeric",i.filterType="date",e._filterPanels.bool=o,e._filterPanels.date=i,e._filterPanels.numeric=l,e._filterPanels.string=t,e._filterPanels){const t=e._filterPanels[n];t.classList.add("smart-hidden"),e.$.content.appendChild(t),t.parentNode.removeChild(t)}})}_applyScrollMode(){const e=this,t=e._scrollView.vScrollBar;requestAnimationFrame(()=>{switch(t.largeStep=e.$.scrollView.offsetHeight,e.scrollMode){case"physical":case"infinite":case"virtual":t.step=10,t.mechanicalAction="switchWhileDragging";break;case"deferred":t.step=10,t.mechanicalAction="switchWhenReleased";break;case"logical":t.step=e.rowMinHeight,t.mechanicalAction="switchWhileDragging";}})}beginUpdate(){const e=this;e._isUpdating||(e._isUpdating=0),e._isUpdating++}endUpdate(e){const t=this;t._isUpdating--,0>t._isUpdating&&(t._isUpdating=0),!1!==e&&t.refresh()}suspendLayout(){const e=this;e._layoutSuspended=!0}resumeLayout(e){const t=this;t._layoutSuspended=!1,e?t.refresh():t._recycle(!1)}get _autoRowHeight(){var e=Math.max;const t=this;if(t.__autoRowHeight)return t.__autoRowHeight;const o=new Smart.Grid.Row({adaptiveHeight:0,index:0,grid:t}),l=o.createElement();let n=t.rowMinHeight;t.$.scrollView.appendChild(l);const a={};for(let e=0;e<t.dataSource.dataFields.length;e++){const o=t.dataSource.dataFields[e];a[o.name]="ABCDEFHIJLMNOPQRSTUVWXYZ1234567910|"}o.data=a,o.render(),l.style.height="",l.style.lineHeight="",n=e(l.offsetHeight,n);for(let e=0;e<l.children.length;e++)l.children[e].style.height="";for(let a=0;a<l.children[1].children.length;a++){l.children[1].children[a].style.height="auto";const i=o.getCell(t.columns[0].dataField);i.render(),n=e(n,8+l.children[1].children[a].offsetHeight);break}return t.$.scrollView.removeChild(l),t.__autoRowHeight=n,n}get _scrollHeight(){const e=this;let t=e._recyclingRows,o=0,l=e._autoRowHeight,n=0,a=0;if(e.__scrollHeight)return e.__scrollHeight;if(0===t.length||0===e.columns.length)return 0;e.rows.canNotify=!1;let r=0,s=0;if(e._responsiveLayout)for(let t=0;t<e.viewColumns.length;t++){const o=e.viewColumns[t];o.autoGenerated||(o.adaptiveVisible?r++:s++)}else if(0<e._adaptiveLayout)for(let t=0;t<e.viewColumns.length;t++){const o=e.viewColumns[t];o.autoGenerated||r++}const d=t.length;for(let u,c=0;c<d;c++){if(u=t[c],!u.visible||!1===u.filtered){u.height=0,u.cellHeight=0,u.top=o;continue}let i=!u.height||!u.cellHeight||u.showDetail;if(i&&!u.expandHeight){if(u.detailHeight||(u.detailHeight=200),!e.rowHeight){if(u.height=l,u.adaptiveHeight=0,void 0===u.label||u.summaryRow||(u.height=e.grouping.groupRowHeight),u.computedHeight&&(u.height=u.computedHeight),u.cellHeight=u.height,e._responsiveLayout){const e=Math.ceil(r/s);u.adaptiveHeight=void 0===u.label?e*l:u.height,u.adaptiveHeight+=50}e.rowDetail.enabled&&u.showDetail&&(u.height+=u.detailHeight)}else e.rowHeight&&("number"==typeof e.rowHeight?(e.rowHeight<e.rowMinHeight&&(e.rowHeight=e.rowMinHeight),u.height=e.rowHeight,u.computedHeight&&(u.height=u.computedHeight),void 0!==u.label&&(u.height=e.grouping.groupRowHeight),u.cellHeight=u.height,e.rowDetail.enabled&&u.showDetail&&(u.height+=u.detailHeight)):(e.rowHeight(c,u),!u.height&&(u.height=l),u.cellHeight=u.height,e.rowDetail.enabled&&u.showDetail&&(u.height+=u.detailHeight)));e._rowGap&&c<e.rows.length-1&&(u.height+=e._rowGap)}if(!0===u.freeze||"near"===u.freeze?n+=u.height:"far"===u.freeze&&(a+=u.height),u.freeze){u.top=o;continue}u.top!==o&&(u.top=o),o+=u.expandHeight?u.cellHeight:u.height}return e.__scrollHeight=o,e.__frozenNearHeight=n,e.__frozenFarHeight=a,e._scrollView.scrollHeight=o-e.$.scrollView.offsetHeight+n+a,o=e.__scrollHeight+n+a,e.grouping.enabled&&0<e.dataSource.groupBy.length&&0<e.grouping.groupIndent&&(o+=parseInt(e.grouping.groupIndent/2)),e.__scrollHeight=o,e.rows.canNotify=!0,o}_measureColumnHeight(){const e=this;if(e.__measuredColumnHeight)return e.__measuredColumnHeight;const t=document.createElement("smart-grid-column");t.style.height="auto",t.style.position="static";const o=document.createElement("div");o.classList.add("smart-label"),o.innerHTML="aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRwWxXyYzZ1234567890",t.appendChild(o),e.$.columnHeader.appendChild(t);let l=e.$.columnHeader.offsetHeight;return e.$.columnHeader.removeChild(t),l<e.columnMinHeight&&(l=e.columnMinHeight),e.__measuredColumnHeight=l,l}_initializeColumnGroupsHierarchy(){const e=this;let t=0;if(e.$.columnContainer.innerHTML="",0<e.columnGroups.length){for(let t=0;t<e.columnGroups.length;t++)e.columnGroups[t].parent=null,e.columnGroups[t].groups=null;for(let t=0;t<e.viewColumns.length;t++)e.viewColumns[t].parent=null,e.viewColumns[t].groups=null;const o=function(t){for(let o,l=0;l<e.columnGroups.length;l++)if(o=e.columnGroups[l],o.name===t)return o;return null},l=function(e){let t=[];if(e.columnGroup&&t.push(e),e.groups)for(let o=0;o<e.groups.length;o++)if(e.groups[o].columnGroup)t.push(e.groups[o]);else if(e.groups[o].groups){let i=l(e.groups[o]);for(let e=0;e<i.length;e++)t.push(i[e])}return t};for(let t,l=0;l<e.columnGroups.length;l++)if(t=e.columnGroups[l],t.groups||(t.groups=null),t.parentGroup){let e=o(t.parentGroup);e&&(t.parent=e,!e.groups&&(e.groups=[]),-1===e.groups.indexOf(t)&&e.groups.push(t))}for(let t,l=0;l<e.viewColumns.length;l++)if(t=e.viewColumns[l],t.columnGroup){let e=o(t.columnGroup);e&&(!e.groups&&(e.groups=[]),t.parent=e,-1===e.groups.indexOf(t)&&e.groups.push(t))}for(let o=0;o<e.viewColumns.length;o++){const l=e.viewColumns[o];let i=l;for(l.level=0;i.parent;)i=i.parent,l.level++;i=l;let n=l.level;for(t=Math.max(t,l.level);i.parent;)i=i.parent,i&&(i.level=--n)}for(let t=0;t<e.columnGroups.length;t++){const o=e.columnGroups[t],i=l(o);o.columns=i;let n=[],a=0,r="near";for(let t=0;t<i.length;t++)n.push(e.viewColumns.indexOf(i[t])),i[t].freeze&&("far"===i[t].freeze&&(r="far"),a++);a===i.length?o.freeze=r:0<a&&a<i.length&&e.error(e.localize("frozenColumns",{elementType:"Grid"})),n.sort(function(e,t){return e=parseInt(e),t=parseInt(t),e<t?-1:e>t?1:0});for(let t=1;t<n.length;t++)n[t]!==n[t-1]+1&&e.error(e.localize("columnGroups",{elementType:"Grid"}))}}e._columnGroupsLevel=1+t}_refreshColumnHeights(){const e=this;e._viewColumnsHeight=e._measureColumnHeight(),e._columnHeights=[];let t=0;for(let o,l=0;l<e._columnGroupsLevel;l++)o=e._viewColumnsHeight,e.columnHeight&&("number"==typeof e.columnHeight?o=e.columnHeight?e.columnHeight:e._viewColumnsHeight:o=e.columnHeight?e.columnHeight(l):e._viewColumnsHeight),o<e.columnMinHeight&&(o=e.columnMinHeight),o?(e._columnHeights.push(o),t+=o):(t+=e._viewColumnsHeight,e._columnHeights.push(e._viewColumnsHeight));e._columnHeaderHeight=e._columnGroupsLevel*e._viewColumnsHeight,e._columnHeaderHeight=t,e.$.columnHeader.style.height=e._columnHeaderHeight+"px";const o=function(t){let o=0;for(let l=0;l<t.level;l++)o+=e._columnHeights[l];return o},l=function(t){let l=o(t),i=e._columnHeaderHeight-l;for(let o=t.level+1;o<e._columnHeights.length;o++){const l=o;for(let o=0;o<e.viewColumns.length;o++){const n=e.viewColumns[o];let a=!1;if(n.level===l){for(let o=n;o.parent;){if(o.parent===t){i-=e._columnHeights[l],a=!0;break}o=o.parent}if(a)break}}}return i};for(let t=0;t<e.viewColumns.length;t++){const i=e.viewColumns[t],n=l(i);i.computedHeight=n,i.top=o(i)}for(let t=0;t<e._columnGroupsLevel-1;t++)for(let o=0;o<e.columnGroups.length;o++){const i=e.columnGroups[o],n=i.level;if(n!==t)continue;if(i.groups){const e=l(i);i.top=top,i.computedHeight=e}const a=i.element;a.style.width=i.computedWidth+"px",a.style.left=i.left+"px",a.style.top=i.top+"px",a.style.height=i.computedHeight+"px",a.style.lineHeight=i.computedHeight+"px"}}_refreshColumnWidths(){const e=this;e.__clientSize=null;const t=0<e.$.verticalScrollBar.offsetWidth?e.$.verticalScrollBar.offsetWidth:0,o=e.dataSource.groupBy||[];let l=e.grouping.enabled?e.grouping.groupIndent*(1+o.length):0;const n=e._clientSize.width-t-l,i=e.adaptivityMode.adaptiveLayout.width,a=e.adaptivityMode.responsiveLayout.width,r=e.adaptivityMode.adaptiveLayout.enabled&&n<=i?n>=375?"50%":"100%":null;let s=0,d=[],u=0,c=0,m=0;e._adaptiveLayout=0,r&&("50%"===r?e._adaptiveLayout=2:e._adaptiveLayout=1),e._responsiveLayout=!1;for(let t=e.viewColumns.length-1;0<=t;t--){const o=e.viewColumns[t];if(o.adaptiveVisible){e._responsiveLayout=e.adaptivityMode.responsiveLayout.enabled&&n<=a&&0===e._adaptiveLayout;break}}if(e.editing.enabled&&e.editing.commandColumn.visible&&!e.editing.commandColumn.inline){const t=e.editing.commandColumn.width?e.editing.commandColumn.width:function(){const t=document.createElement("div"),o=document.createElement("div"),l=e.editing.commandColumn.dataSource;let i=0,n="",a=0;for(let t in o.classList.add("smart-label"),l){const o=l[t];let i=!1;if("commandColumnMenu"==t)continue;let r=!1;if(i||(!0===o.visible?(a++,r=!0):"auto"===o.visible&&((e.editing.editRow||e.editing.editCell)&&!e.editing.dialog.enabled||"commandColumnEdit"!=t?(e.editing.editRow||e.editing.editCell)&&!e.editing.dialog.enabled&&("commandColumnUpdate"==t?(a++,r=!0):"commandColumnCancel"==t&&(a++,r=!0)):(a++,r=!0)),i=!0),r&&"icon"!==e.editing.commandColumn.displayMode){const l="{{messages}}"===o.label?e.localize(t):o.label;n+="<span>"+l+"</span>"}}return o.innerHTML="<span>"+n+"</span>",t.appendChild(o),t.style.width="auto",t.style.position="static",e.$.columnHeader.appendChild(t),i=10+o.firstChild.offsetWidth,e.$.columnHeader.removeChild(t),"icon"===e.editing.commandColumn.displayMode?i=20+20*a:"labelAndIcon"===e.editing.commandColumn.displayMode?i+=25*a:i+=10*a,i}();e.columns.canNotify=!1,e._commandColumn.width=t,e.columns.canNotify=!0}for(let t=0;t<e.viewColumns.length;t++){const o=e.viewColumns[t],l=e.columnByDataField[o.dataField],i=l?l:o;let a;if(r){a=parseFloat(r)/100,a*=n,i.computedWidth=a;continue}"number"==typeof i.width?a=i.width:i.width&&0<=i.width.toString().indexOf("%")?(a=parseFloat(i.width)/100,a*=n):i.visible&&(d.push(i),a=0),i.overflowWidth&&(a-=i.overflowWidth),i.visible&&!i.adaptiveVisible&&(s+=a),a<i.minWidth&&(a=i.minWidth),i.computedWidth=a}if(d){let e=n-s,t=0;0>e&&(e=60*d.length);for(let o=0;o<d.length;o++){const l=d[o];let i;i=e/d.length,o==d.length-1&&(i=e-t),l.overflowWidth&&(i-=l.overflowWidth),i<l.minWidth&&(i=l.minWidth),l.computedWidth=i,t+=i}}for(let t=0;t<e.viewColumns.length;t++){const o=e.viewColumns[t];let i=o.autoGenerated?o:e.columnByDataField[o.dataField];i.visible&&!i.adaptiveVisible&&(0<l&&!i.autoGenerated&&(i.computedWidth+=l,l=0),i.freeze?!0===i.freeze||"near"===i.freeze?(i.left=u,m+=i.computedWidth,u+=i.computedWidth):"far"===i.freeze&&(i.left=c,c+=i.computedWidth):(i.left=m,m+=i.computedWidth))}for(let t=0;t<e._columnGroupsLevel-1;t++)for(let o=0;o<e.columnGroups.length;o++){const l=e.columnGroups[o],i=l.level;if(i!==t)continue;let n=99999;if(l.groups){const e=function(t){let o=0;for(let l,i=0;i<t.groups.length;i++)l=t.groups[i],l.groups?o+=e(l):!l.hidden&&(n=Math.min(l.left,n),o+=l.computedWidth);return o};l.computedWidth=e(l),l.left=n}}}_createColumnHeaderCellElements(){const e=this,t=e.$.columnContainer,o=document.createDocumentFragment();let l=0;e._columnElements=[],e.$.columnContainer.innerHTML="",e.$.columnNearContainer.innerHTML="",e.$.columnFarContainer.innerHTML="";for(let t=0;t<e._frozenNearColumns.length;t++){const o=e._frozenNearColumns[t];o.createElement()}for(let t=0;t<e._frozenFarColumns.length;t++){const o=e._frozenFarColumns[t];o.createElement()}for(let t=0;t<e.viewColumns.length;t++){const i=e.viewColumns[t];if(i.freeze)continue;const n=i.createElement();l+=i.computedWidth,e._columnElements.push(n),l<2*e._clientSize.width&&o.appendChild(n)}for(let t=0;t<e.columnGroups.length;t++){const l=e.columnGroups[t],i=new Smart.Grid.Column({allowSelect:!1,grid:e,dataField:l.name,label:l.label,align:l.align,verticalAlign:l.verticalAlign});l.column=i;const n=i.createElement();n.style.width=l.computedWidth+"px",n.style.left=l.left+"px",n.style.top=l.top+"px",n.style.height=l.computedHeight+"px",n.style.lineHeight=l.computedHeight+"px",o.appendChild(n),l.element=n,l.grid=this}e.htmlColumnLastChild||(e.htmlColumnLastChild=document.createElement("smart-grid-column"),e.htmlColumnLastChild.classList.add("top-far-corner"),e.$.columnHeader.appendChild(e.htmlColumnLastChild)),t.appendChild(o),t.style.width=e._computedColumnsWidth+"px",e.$.columnNearContainer.style.width=e._frozenColumnsNearWidth+"px",e.$.columnFarContainer.style.width=e._frozenColumnsFarWidth+"px";for(let t=0;t<e.columnGroups.length;t++){const o=e.columnGroups[t];o.freeze&&(!0===o.freeze||"near"===o.freeze?e.$.columnNearContainer.appendChild(o.header):"far"===o.freeze&&e.$.columnFarContainer.appendChild(o.header))}for(let t=0;t<e.viewColumns.length;t++){const o=e.viewColumns[t];o.freeze&&(!0===o.freeze||"near"===o.freeze?e.$.columnNearContainer.appendChild(o.element):"far"===o.freeze&&e.$.columnFarContainer.appendChild(o.element))}}get _clientSize(){const e=this;if(e.__clientSize)return e.__clientSize;const t=getComputedStyle(e.$.container),o=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),l=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),i=parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth),n=parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth);return e.__clientSize={width:e.$.container.offsetWidth-o-i,height:e.$.container.offsetHeight-l-n},e.__clientSize}_initializeRowElements(){const e=this;if(!e.rows||e.rows&&0===e.rows.length)return;e.rows.canNotify=!1;let t=0,o=e._clientSize.height;e.$.rowContainer.innerHTML="",e._rowElements=[],e._overflowOffset=Math.max(o,300);const l=e.offsetHeight;e.$.container.classList.add("smart-hidden");const i=e.offsetHeight;e.$.container.classList.remove("smart-hidden"),("hidden"===e.verticalScrollBarVisibility||l!==i)&&(o=e._scrollHeight);const n=function(){const l=document.createDocumentFragment();for(let n=0;n<e.rows.length;n++){const i=e.rows[n];if(i.freeze)continue;const a=i.createElement();if(l.appendChild(a),t+=e.rowMinHeight,t>e._overflowOffset+o)break}e.$.rowContainer.appendChild(l);const n=e.$.rowContainer.children;for(let t=0;t<n.length;t++){const o=n[t];e.rows[t]&&(e.rows[t].element=o),e._rowElements[t]=o}};for(let t=0;t<e._frozenNearRows.length;t++){const o=e._frozenNearRows[t],l=o.createElement();o.element=l,e.$.rowNearContainer.appendChild(l)}for(let t=0;t<e._frozenFarRows.length;t++){const o=e._frozenFarRows[t],l=o.createElement();o.element=l,e.$.rowFarContainer.appendChild(l)}n();for(let e=0;t<1.5*o&&50>++e;)n();e.rows.canNotify=!0}_initializeRows(){const e=this;let t=0;e._frozenNearDefaultRows=[],e._frozenFarDefaultRows=[],e.rows=[],e.rowById=[],e._frozenFarRows=[],e._frozenNearRows=[];const o=function(){let t=[],o=!1;for(let l=0;l<e.columns.length;l++){const i=e.columns[l];let n={};i.summary&&0<i.summary.length&&(o=!0),n[i.dataField]=i.summary,t.push(n)}return o?void(e._summaryItems=e.dataSource.summarize(t)):void(e._summaryItems=[])},l=function(o,l){const i=o.grid?o:new Smart.Grid.Row({data:o,index:l,grid:e});if(e.onRowInit)for(let t in e.onRowInit(l,i),i)-1!==i.properties.indexOf(t)||t.startsWith("_")||e.error(e.localize("invalidRowProperty",{elementType:"Grid",propertyName:t}));i.freeze?!0===i.freeze||"near"===i.freeze?(e.rows.splice(t++,0,i),e._frozenNearRows.push(i)):"far"===i.freeze&&(e._frozenFarRows.push(i),e.rows.push(i)):e.rows[l]?e.rows.splice(l,0,i):e.rows.push(i),"virtual"===e.scrollMode||e.paging.enabled&&e.dataSource&&e.dataSource.virtualDataSource||e.onRowInserted&&e.onRowInserted(l,i)},i=function(){const t=e.rows[e.rows.length-1];e.rows.pop(),e.onRowRemoved&&e.onRowRemoved(e.rows.length,t)},n=function(t){const o=e.rows[t];e.rows.splice(t,1),e.onRowRemoved&&e.onRowRemoved(t,o)};e._add=l,e._removeLastRow=i,e._removeAt=n,e._rowHeight=e._autoRowHeight;for(let t=0;t<e.dataSource.length;t++){const o=e.dataSource[t];l(o,t)}for(let t=0;t<e._frozenFarRows.length;t++){const o=e._frozenFarRows[t];e.rows.splice(e.rows.indexOf(o),1),e.rows.push(o)}if(o(),e.dataSource.notify(function(t){if(!e.dataSource._updating){const a=t.data;switch(e.rows.canNotify=!1,t.action){case"add":if(a.length)for(let t=0;t<a.length;t++)l(a[t],e.dataSource.length-a.length+t);else l(a,e.dataSource.length-1);break;case"update":if(a.length)for(let o=0;o<a.length;o++){const i=t.index[o];if(!e.rows[i]){l(a[o],e.dataSource.length-1);continue}e.rows[i].data=a[o],e.onRowUpdated&&e.onRowUpdated(i,e.rows[i])}else{const o=t.index;e.rows[o]?e.rows[o].data=a:l(a,e.dataSource.length-1),e.onRowUpdated&&e.onRowUpdated(o,e.rows[o])}break;case"insert":l(a,t.index);for(let t=0;t<e.rows.length;t++){const o=e.rows[t];o.index=t}break;case"remove":n(t.index);break;case"removeLast":i();break;case"bindingComplete":}o(),"update"!==t.action&&e._refreshLayout(),e._recycle(),e.rows.canNotify=!0}}),e._observeRows(),e.summaryRow.visible)for(let t=0;t<e._summaryRowCount;t++){const o=new Smart.Grid.Row({freeze:"near",visible:"near"===e.summaryRow.position,summaryRowIndex:t,summaryRow:!0}),l=new Smart.Grid.Row({freeze:"far",visible:"far"===e.summaryRow.position,summaryRowIndex:t,summaryRow:!0});e._frozenNearRows.splice(0,0,o),e._frozenFarRows.push(l)}if(e.filtering.enabled&&e.filtering.filterRow.visible){const t=new Smart.Grid.Row({freeze:"near",filterRow:!0});e._frozenNearRows.splice(0,0,t)}e._renderAddNewRow()}_observeRows(){const e=this;e._frozenNearRows=[],e._frozenFarRows=[],e.rows=new Smart.ObservableArray(e.rows,null,{allowToggle:!0,allowResize:!0,expanded:!0,selected:!0,visible:!0,enabled:!0,minHeight:!0,height:!0,freeze:!0,showDetail:!0,data:!0,visibleIndex:!0,index:!0});for(let t=0;t<e.rows.length;t++){const o=e.rows[t];!0===o.freeze||"near"===o.freeze?e._frozenNearRows.push(o):"far"===o.freeze&&e._frozenFarRows.push(o),e.rowById[e.rows[t].id]=o}const t=function(e,t,o,l){e.propertyChanged(t,o,l)};e.rows.notify(function(o){if(e.rows.canNotify){if(o.path)return e.rows.canNotify=!1,t(o.target,o.propertyName,o.oldValue,o.newValue),void(e.rows.canNotify=!0);e.rows.canNotify=!1;const l=o.action;if(e.dataSource){switch(e.dataSource.canNotify=!1,l){case"add":{e.dataSource.add(e.rows[o.index]);const t=e.rows[o.index];e.rowById[t.id]=t;break}case"update":{e.dataSource.update(o.index,e.rows[o.index]);break}case"remove":{const t=o.removed;delete e.rowById[t.id],e.dataSource.remove(o.index);break}}e.dataSource.canNotify=!0,e.rows.canNotify=!0,e.refresh()}}})}render(){const e=this;e._render()}_renderColumns(e){const t=this;t._initializeColumns(),t._initializeColumnGroupsHierarchy(),t._refreshColumnsResponsiveVisibility(),t._createColumnHeaderCellElements(),t._renderColumnGroupHeaders(),!1!==e&&t._refresh()}_renderRows(e){const t=this;t._initializeRows(),t._initializeRowElements(),!1!==e&&t._refresh()}_render(){const e=this;if(!e.isInitialized&&e.onBeforeInit&&e.onBeforeInit(),null===e.dataSource&&(e.dataSource=new Smart.DataAdapter),e._selection={rows:[],columns:[],cells:[]},e._renderColumns(!1),e._renderRows(!1),e._renderPagers(),e._renderCommandBar(),e.appearance.allowColumnStickyPosition&&e._stickHeader(),!e.isInitialized){for(let t=0;t<e.viewColumns.length;t++){const o=e.viewColumns[t];if(!o.allowSort||!o.sortOrder)continue;const l=e.appearance.allowSortAnimation;e.appearance.allowSortAnimation=!1,e.sortBy(o.dataField,o.sortOrder),e.appearance.allowSortAnimation=l}if(0<e.filtering.filter.length){for(let t=0;t<e.filtering.filter.length;t++){const o=e.filtering.filter[t];if(o){const t=o[0],l=o.splice(1);let i=null;if(l instanceof Smart.FilterGroup)i=l;else{const o=e.columnByDataField[t];o&&(i=e.dataSource._createFilter(o.dataType,l))}i&&e.addFilter(t,i,!1)}}e.refreshFilters()}}else e.refreshFilters();e.viewColumns.canNotify=!0,!e.isInitialized&&e.onInit&&e.onInit(),e.isInitialized=!0,"virtual"===e.scrollMode||e.paging.enabled&&e.dataSource&&e.dataSource.virtualDataSource?e._virtualDataRequest("dataBind"):e.dataSource&&e.dataSource.virtualDataSource&&e._virtualDataRequest("dataBind"),""!==e.header.template&&e._applyTemplate(e.header.template,e.$.header),""!==e.footer.template&&e._applyTemplate(e.footer.template,e.$.footer),e._createFilterPanels(),e._refresh(),e._applyScrollMode(),e.onRender&&e.onRender()}_refreshPagesCount(){const e=this,t=e.$.headerPager.querySelector("smart-pager"),o=function(){const t=e.getVisibleRows();let o=t.length;if(e.rowHierarchy){o=0;for(let e=0;e<t.length;e++){const l=t[e];0!==l.level||l.parent||o++}e.dataSource.virtualDataSourceLength&&(o=e.dataSource.virtualDataSourceLength)}return Math.ceil(o/e.paging.pageSize)}();t&&(t.pagesCount=o);const l=e.$.footerPager.querySelector("smart-pager");t&&(l.pagesCount=o),e.paging.pageIndex>o&&(e.paging.pageIndex=o-1,e._refreshPaging(e.paging.pageIndex))}_renderPagers(){const e=this;e.pager.visible&&requestAnimationFrame(()=>{const t=document.createElement("smart-pager"),o=document.createElement("smart-pager");e.$.headerPager.appendChild(t),e.$.footerPager.appendChild(o);const l=function(t){const o=t.messages[e.locale];o||(t.messages[e.locale]={}),Object.assign(t.messages[e.locale],{firstButton:e.localize("pagerFirstButton"),lastButton:e.localize("pagerLastButton"),previousButton:e.localize("pagerPreviousButton"),nextButton:e.localize("pagerNextButton"),navigateToLabel:e.localize("pagerNavigateToLabel"),pageSizeLabel:e.localize("pagerPageSizeLabel"),navigateToInputPlaceholder:e.localize("pagerNavigateToInputPlaceholder"),ellipsis:e.localize("pagerEllipsis"),summaryString:e.localize("pagerSummaryString"),summaryPrefix:e.localize("pagerSummaryPrefix"),summarySuffix:e.localize("pagerSummarySuffix")})},i=function(){const t=e.getVisibleRows();let o=t.length;if(e.rowHierarchy){o=0;for(let e=0;e<t.length;e++){const l=t[e];0!==l.level||l.parent||o++}e.dataSource.virtualDataSourceLength&&(o=e.dataSource.virtualDataSourceLength)}return Math.ceil(o/e.paging.pageSize)},n=function(l,n){const a=n+"GridPager";l.setAttribute("smart-id",a),e.$[a]=l,e["$"+a]=Smart.Utilities.Extend(l),l.beginUpdate(),e.addPropertyBinding("[[pager_navigationButtons_position]]","navigationButtonsPosition",l),e.addPropertyBinding("[[pager_navigationButtons_firstLastButtons_visible]]","showFirstLastNavigationButtons",l),e.addPropertyBinding("[[pager_navigationButtons_prevNextButtons_visible]]","showPrevNextNavigationButtons",l),e.addPropertyBinding("[[pager_navigationButtons_labels_visible]]","showNavigationButtonLabels",l),e.addPropertyBinding("[[pager_pageIndexSelectors_visible]]","showPageIndexSelectors",l),e.addPropertyBinding("[[pager_pageIndexSelectors_dataSource]]","pageIndexSelectors",l),e.addPropertyBinding("[[pager_summary_visible]]","showSummary",l),e.addPropertyBinding("[[pager_summary_position]]","summaryPosition",l),e.addPropertyBinding("[[pager_navigationInput_visible]]","showNavigationInput",l),e.addPropertyBinding("[[pager_navigationInput_position]]","navigationInputPosition",l),e.addPropertyBinding("[[pager_pageSizeSelector_visible]]","showPageSizeSelector",l),e.addPropertyBinding("[[pager_pageSizeSelector_dataSource]]","pageSizeSelectorDataSource",l),e.addPropertyBinding("[[pager_pageSizeSelector_position]]","pageSizeSelectorPosition",l),e.addPropertyBinding("[[pager_autoEllipsis]]","autoEllipsis",l),e.addPropertyBinding("[[!paging_enabled]]","disabled",l),e.addPropertyBinding("{{paging_pageIndex}}","pageIndex",l),e.addPropertyBinding("{{paging_pageSize}}","pageSize",l),l.pagesCount=i(),l.$.pageSizeSelector.dropDownAppendTo="body",l.$.pageSizeSelector.selectedIndexes=[0],e["$"+a].listen("change",function(n){l.pagesCount=i(),e.paging.pageIndex>l.pagesCount&&(e.paging.pageIndex=l.pagesCount-1),t.refresh(),o.refresh(),e._refreshPaging(n.detail.index!==void 0)}),l.endUpdate()};n(t,"header"),n(o,"footer"),l(t),l(o)})}get _viewRows(){const e=this;if(e.__viewRows)return e.__viewRows;e._nearRowsAdded||(e._nearRowsAdded=[],e._farRowsAdded=[]);const t=e.rowHierarchy?e.rowHierarchy:e.rows.toArray(),o=[].concat(e._frozenNearDefaultRows,e._nearRowsAdded,t,e._farRowsAdded,e._frozenFarDefaultRows);return e.__viewRows=o,o}_stickHeader(){const e=this,t=function(){e._handleStickyHeader()};e.$.columnHeader.style.top="",e.$.columnHeader.classList.remove("smart-columns-sticky");for(let o=e.parentNode;o!==document;)o.addEventListener("scroll",t),o=o.parentNode;try{null!==window.top&&window.top!==window.self&&window.top.document.addEventListener("scroll",t)}catch(e){}e._handleStickyHeader()}_unstickHeader(){const e=this;e.$.columnHeader.style.top="",e.$.columnHeader.classList.remove("smart-columns-sticky");const t=function(){e._scrollHandler()};for(let o=e.parentNode;o!==document.body;)o.removeEventListener("scroll",t),o=o.parentNode;try{(""!==document.referrer||window.frameElement)&&null!==window.top&&window.top!==window.self&&window.top.document.removeEventListener("scroll",t)}catch(e){}}_handleStickyHeader(){const e=this;if(e.appearance.allowColumnStickyPosition)if(e.$.columnHeader.classList.add("smart-columns-sticky"),0===document.scrollTop&&0===e.parentElement.scrollTop)e.$.columnHeader.style.top="";else{let t=e.parentNode,o=0;for(;t!==document.body;)o+=parseInt(t.scrollTop),t=t.parentNode;const l=parseInt(e.clientTop+o);e.$.columnHeader.style.top=l+"px";let i=0;window.top!==window.self&&parseInt(window.top.scrollY)>parseInt(e._offsetTop(window.frameElement))&&(i=parseInt(window.top.scrollY)-parseInt(e._offsetTop(window.frameElement))),window.scrollY+i>e.offsetTop&&(e.$.columnHeader.style.top=parseInt(window.scrollY)-parseInt(e.offsetTop)+l+i+"px")}}_scrollHandler(){const e=this;e._handleStickyHeader()}_initializeRowNumberColumn(){const e=this;if(e._frozenNearColumns&&0<e._frozenNearColumns.length&&e._frozenNearColumns[0].rowNumbersColumn)return void(e._frozenNearColumns[0].visible=e.appearance.showRowNumber||e.appearance.showRowHeader);const t=e.appearance.showRowNumber?function(){const t=document.createElement("div"),o=document.createElement("div"),l=e.rows?e.rows.length:e.dataSource?e.dataSource.length:0;let i=0;return o.classList.add("smart-label"),o.innerHTML="<span>"+l+"</span>",t.appendChild(o),t.style.width="auto",t.style.position="static",e.$.columnHeader.appendChild(t),i=20+o.firstChild.offsetWidth,e.$.columnHeader.removeChild(t),Math.max(30,i)}():30,o=new Smart.Grid.Column({dataField:"_rowHeaderColumn",label:"",allowSelect:!1,freeze:!0,visible:!0,grid:e,autoGenerated:!0,rowNumbersColumn:!0,cellsAlign:"center",width:t});o.createElement();const l=new Smart.Observable(o,o.observables);e.viewColumns.splice(0,0,l),e._frozenNearColumns.splice(0,0,l)}_initializeColumns(){const e=this;e._boundColumns=Array.isArray(e.columns)?e.columns.splice(0):e.columns.toArray().splice(0),e.columnByDataField=[],e.viewColumns=[],e.columns=new Smart.ObservableArray,e._frozenFarColumns=[],e._frozenNearColumns=[],e._summaryRowCount=0;let t=0;const o=function(t){if(e.dataSource.dataFields){const o=e.dataSource.dataFields.find(e=>{if(e.name===t.dataField)return e}),l=o?o.dataType||"string":"string";t.dataType=l}};if(0===e._boundColumns.length&&e.dataSource&&e.dataSource[0]){const t=e.dataSource[0];for(let l in t){if(l.startsWith("_")||"$"==l)continue;const t=e._boundColumns.length,i={index:t,visibleIndex:t,label:l,dataField:l};o(i),e._boundColumns.push(i),e.columnByDataField[i.dataField]=e._boundColumns[e._boundColumns.length-1]}}for(let l,n=0;n<e._boundColumns.length;n++){if(l=e._boundColumns[n],"string"!=typeof l)o(l);else if(e.dataSource.dataFields){const t=e.dataSource.dataFields.find(e=>{if(e.name===l)return e});l={label:l,dataField:l,dataType:t?t.dataType||"string":"string"}}l.visibleIndex=n,l.index=n,l.grid=e;const i=new Smart.Grid.Column(l);for(let t in e.onColumnInit&&e.onColumnInit(n,i),i)-1!==i.properties.indexOf(t)||t.startsWith("_")||e.error(e.localize("invalidColumnProperty",{elementType:"Grid",propertyName:t,type:i.dataField||"Column"}));i.grid=e,e.columns.push(i);const a=e.columns[e.columns.length-1];e._summaryRowCount=Math.max(e._summaryRowCount,i.summary.length),i.freeze?!0===i.freeze||"near"===i.freeze?(e.viewColumns.splice(t++,0,a),e._frozenNearColumns.push(a)):"far"===i.freeze&&e._frozenFarColumns.push(a):e.viewColumns.push(a),e.columnByDataField[i.dataField]=a,e.onColumnInserted&&e.onColumnInserted(n,i)}e.viewColumns=e.viewColumns.concat(e._frozenFarColumns);let l=0;if((e.appearance.showRowNumber||e.appearance.showRowHeader)&&(e._initializeRowNumberColumn(),l++),e.rowDetail.enabled){const t=new Smart.Grid.Column({dataField:"_rowDetailColumn",allowSelect:!1,visible:e.rowDetail.visible,label:"",grid:e,freeze:!0,rowDetailColumn:!0,autoGenerated:!0,cellsAlign:"center",width:30}),o=new Smart.Observable(t,t.observables);"near"===e.rowDetail.position?(t.freeze="near",o.freeze="near",e.viewColumns.splice(l,0,o),e._frozenNearColumns.splice(l,0,o)):(e.viewColumns.push(o),e._frozenFarColumns.splice(0,0,o)),l++}const i=new Smart.Grid.Column({dataField:"_adaptiveColumn",allowSelect:!1,visible:!e.adaptivityMode.responsiveLayout.autoShowHiddenCells,label:"",grid:e,freeze:"far",adaptiveColumn:!0,autoGenerated:!0,cellsAlign:"center",width:30}),n=new Smart.Observable(i,i.observables);e.viewColumns.push(n),e._frozenFarColumns.splice(0,0,n);const a=new Smart.Grid.Column({dataField:"_commandColumn",allowSelect:!1,visible:e.editing.enabled&&e.editing.commandColumn.visible&&!e.editing.commandColumn.inline,label:"",grid:e,freeze:"far",commandColumn:!0,autoGenerated:!0,align:"center",cellsAlign:"center",width:""}),r=new Smart.Observable(a,a.observables);"near"===e.editing.commandColumn.position?(a.freeze="near",r.freeze="near",e.viewColumns.splice(l,0,r),e._frozenNearColumns.splice(l,0,r)):(e.viewColumns.push(r),e._frozenFarColumns.splice(0,0,r)),e._commandColumn=r;const s=new Smart.Grid.Column({allowSelect:!1,visible:e.selection.enabled&&e.selection.checkBoxes.enabled,dataField:"_checkBoxColumn",label:"",freeze:e.selection.checkBoxes.position,grid:e,selectionColumn:!0,autoGenerated:!0,cellsAlign:"center",width:32}),d=new Smart.Observable(s,s.observables);"near"===s.freeze?(e.viewColumns.splice(l,0,d),e._frozenNearColumns.splice(l,0,d)):(e.viewColumns.push(d),e._frozenFarColumns.splice(0,0,d)),e._selectionColumn=d,e._observeColumns(),e._templateColumns()}get styleProperties(){return["grid-template-columns"]}_templateColumns(){const e=this,t=getComputedStyle(e),o=t.getPropertyValue("--smart-grid-template-columns").trim(),l=t.getPropertyValue("--smart-grid-column-gap").trim(),i=t.getPropertyValue("--smart-grid-row-gap").trim();if(e._rowGap=parseInt(i),e._columnGap=parseInt(l),e._maxHeight=parseInt(t.maxHeight),"none"!==o){let t=0;for(let o=0;o<e.viewColumns.length;o++)e.viewColumns[o].autoGenerated&&(t+=e.viewColumns[o].visible?e.viewColumns[o].width:0);let l=[];const n=document.createElement("div");n.style.display="grid",n.style.gridTemplateColumns=o;for(let t=0;t<e.columns.length;t++)n.innerHTML+="<div></div>";n.style.width=e.clientWidth-t+"px",e.$.root.appendChild(n);const a=o.split(" ");for(let t=0;t<e.columns.length;t++)l[t]=n.children[t].offsetWidth,"auto"===a[t]&&(l[t]="auto");n.parentNode.removeChild(n);let r=0;for(let t=0;t<e.viewColumns.length;t++){const o=e.viewColumns[t];o.autoGenerated||l[r]&&(o.width=o.templateWidth=l[r++])}}else for(let t=0;t<e.viewColumns.length;t++){const o=e.viewColumns[t];o.autoGenerated||o.templateWidth&&(o.width=o.templateWidth="auto")}}_observeColumns(){const e=this,t=function(e,t,o,l){e.propertyChanged(t,o,l)};for(let o=0;o<e.viewColumns.length;o++){const l=e.viewColumns[o];l.onAction=function(){e._openMenu(this)},l.autoGenerated&&l.notify(function(e){l.canNotify=!1,t(l,e.propertyName,e.oldValue,e.newValue),l.canNotify=!0})}e.columns.notify(function(o){let l=null;if(o.path)return e.columns.canNotify=!1,t(o.target,o.propertyName,o.oldValue,o.newValue),void(e.columns.canNotify=!0);e.columns.canNotify=!1;const i=o.action;let n=0;switch(i){case"length":return;case"add":{l=o.object[o.index],l.grid=e,l.freeze?e._frozenNearColumns.push(l):"far"===l.freeze&&e._frozenFarColumns.push(l),e.viewColumns.splice(e.viewColumns.length-e._frozenFarColumns.length,0,l),e.columnByDataField[l.dataField]=l,e.onColumnInserted&&e.onColumnInserted(o.index,l);break}case"update":{l=o.object[o.index],l.grid=e;for(let t=0;t<o.index;t++)e.viewColumns[t].autoGenerated&&n++;e.viewColumns[n+o.index]=l,e.columnByDataField[l.dataField]=l,e.onColumnUpdated&&e.onColumnUpdated(o.index,l);break}case"remove":{l=o.removed[0];let t=o.index;for(let o=0;o<=t;o++)e.viewColumns[o].autoGenerated&&n++;e.viewColumns.splice(n+t,1),delete e.columnByDataField[l.dataField],e.onColumnRemoved&&e.onColumnRemoved(o.index,l);break}}e._initializeColumnGroupsHierarchy(),e._createColumnHeaderCellElements(),e._templateColumns(),e.refresh(),e.columns.canNotify=!0})}get _scrollWidth(){const e=this;if(e.__scrollWidth)return e.__scrollWidth;let t=0;for(let o=0;o<e.viewColumns.length;o++){const l=e.viewColumns[o];l.visible&&!l.adaptiveVisible&&(t+=l.computedWidth)}if(e.adaptivityMode.responsiveLayout.enabled){const t=e.adaptivityMode.responsiveLayout.width,o=1+e.$.scrollView.offsetWidth;if(o<=t)return 0}if(e.adaptivityMode.adaptiveLayout.enabled){const t=e.adaptivityMode.adaptiveLayout.width,o=1+e.$.scrollView.offsetWidth;if(o<=t)return 0}return t=parseInt(t),e.__scrollWidth=t,e._scrollView.scrollWidth=t-e._clientSize.width,e.__scrollWidth}_horizontalScrollbarHandler(){const e=this;e.closeMenu(),e.isScrolling=!0,requestAnimationFrame(()=>{e._recycle(),e.isScrolling=!1})}_mouseWheelHandler(e){const t=this;t._scrollView.hScrollBar.$.hasClass("smart-hidden")&&t._scrollView.vScrollBar.$.hasClass("smart-hidden")||!t.disabled&&!t._scrollView.vScrollBar.$.hasClass("smart-hidden")&&(e.stopPropagation(),e.preventDefault(),t._scrollView.scrollTo(t._scrollView.scrollTop+t._getScrollCoefficient(e,t._clientSize.height)))}clearRows(){const e=this;e.dataSource=[],e.clearSelection()}refresh(e){const t=this;t.isInitialized&&(e&&(t._initializeRows(),t._initializeRowElements()),t._refresh())}_refresh(){const e=this;if(!e._isUpdating){const t=e.$.verticalScrollBar.offsetWidth;e.removeAttribute("grouped"),e.removeAttribute("tree"),e.grouping.enabled&&e.dataSource.groupBy&&0<e.dataSource.groupBy.length?e.setAttribute("grouped",""):e.dataSource.boundHierarchy&&e.setAttribute("tree",""),e.isInitialized&&e._refreshColumnsResponsiveVisibility(),e._refreshLayout(),t!==e.$.verticalScrollBar.offsetWidth&&(e.__scrollWidth=null,e._refreshColumnsResponsiveVisibility(),e._refreshScrollBars()),e._refreshSelection(),e._recycle(),requestAnimationFrame(()=>{e._width=e.offsetWidth,e._height=e.offsetHeight})}}_resizeHandler(e){const t=this;e.target!==t||t._isUpdatingScrollBars||(t._isUpdatingScrollBars=!0,t.refresh(),t._isUpdatingScrollBars=!1)}_refreshColumnsResponsiveVisibility(){const e=this,t=e.adaptivityMode.responsiveLayout.width,o=e.adaptivityMode.adaptiveLayout.width,l=1+e.$.scrollView.offsetWidth,i=e.$.columnContainer,n=e.$.columnNearContainer,a=e.$.columnFarContainer,r=e.adaptivityMode.responsiveLayout.enabled&&!e.adaptivityMode.responsiveLayout.autoShowHiddenCells;let s=0,d=0,u=0,c=!1;for(let t=0;t<e.viewColumns.length;t++){const o=e.viewColumns[t];o._treeColumn=!1,!o.visible||o.autoGenerated||c||(o._treeColumn=!0,c=!0),o.overflowWidth=void 0,o.adaptiveVisible=!1}r&&(e.adaptivityMode.responsiveLayout.enabled?l>t&&(e.viewColumns[e.viewColumns.length-1].adaptiveVisible=!0):!e.adaptivityMode.adaptiveLayout.enabled&&(e.viewColumns[e.viewColumns.length-1].adaptiveVisible=!0)),e._refreshColumnWidths();let m=0,p=0;for(let t=0;t<e.viewColumns.length;t++){const o=e.viewColumns[t];o.visible&&!o.adaptiveVisible&&(o.freeze&&(!0===o.freeze||"near"===o.freeze?(s+=o.computedWidth,o.autoGenerated&&(m+=o.computedWidth)):"far"===o.freeze&&(d+=o.computedWidth,o.autoGenerated&&(p+=o.computedWidth))),u+=o.computedWidth)}if(i.style.width=u+"px",n.style.width=s+"px",a.style.width=d+"px",a.classList.remove("smart-hidden"),n.classList.remove("smart-hidden"),0===d&&a.classList.add("smart-hidden"),0===s&&n.classList.add("smart-hidden"),s===m,d===p&&a.classList.add("border-collapse"),e._autoGeneratedColumnsNearWidth=m,e._autoGeneratedColumnsFarWidth=p,e.adaptivityMode.responsiveLayout.enabled||e.adaptivityMode.adaptiveLayout.enabled){const i=l<=t&&e.adaptivityMode.responsiveLayout.enabled,n=l<=o&&e.adaptivityMode.adaptiveLayout.enabled;if(i||n){for(let t=e.viewColumns.length-1;0<=t;t--){const o=e.viewColumns[t];if(o.visible&&!o.freeze){if(u-o.computedWidth<=l)break;u-=o.computedWidth,o.adaptiveVisible=!0}}if(u>l){let t=u-l,o=-1;const i=function(t){for(let l=e.viewColumns.length-1;0<=l;l--){const i=e.viewColumns[l];if(!i.visible||i.freeze)continue;if(i.adaptiveVisible)continue;-1===o&&(o=l);const n=i.computedWidth-t;if(n<i.minWidth){const e=i.computedWidth-i.minWidth;i.overflowWidth=e,t-=e}else return i.overflowWidth=t,0}return t};if(t=i(t),0<t&&-1!==o){const n=e.viewColumns[o];u-=n.computedWidth,n.adaptiveVisible=!0,t=u-l,i(t)}e._refreshColumnWidths(),u=l}}}e._computedColumnsWidth=u,e._frozenColumnsNearWidth=s,e._frozenColumnsFarWidth=d}_selectStartHandler(e){const t=this;t.isScrolling||t.editing.isEditing||e.preventDefault()}setFocusable(e){const t=this;return t.disabled||!e?void t.removeAttribute("tabindex"):void(t.tabIndex=0)}_setLoadingIndicatorVisibility(){const e=this;return e.displayLoadingIndicator?void e.$.loadingIndicatorContainer.classList.remove("smart-visibility-hidden"):void e.$.loadingIndicatorContainer.classList.add("smart-visibility-hidden")}_refreshElementsVisibility(){const e=this,t=function(e,t){t?e.classList.remove("smart-hidden"):e.classList.add("smart-hidden")};if(t(e.$.placeholder,!e.rows||e.rows&&0===e.rows.length||0===e.columns.length),t(e.$.footer,e.footer.visible),t(e.$.header,e.header.visible),t(e.$.groupHeader,e.groupHeader.visible),t(e.$.columnHeader,e.columnHeader.visible&&!e._adaptiveLayout&&0<e.columns.length),t(e.$.headerCommandBar,e.editing.commandBar.visible&&e.editing.enabled&&"far"!==e.editing.commandBar.position),t(e.$.footerCommandBar,e.editing.commandBar.visible&&e.editing.enabled&&"near"!==e.editing.commandBar.position),e.htmlColumnLastChild.classList.add("smart-visibility-hidden"),e.pager&&e.pager.visible&&e.paging.enabled)switch(e.pager.position){case"near":t(e.$.headerPager,!0),t(e.$.footerPager,!1);break;case"far":t(e.$.headerPager,!1),t(e.$.footerPager,!0);break;case"both":t(e.$.headerPager,!0),t(e.$.footerPager,!0);}else t(e.$.footerPager,!1),t(e.$.headerPager,!1);e._refreshRowHierarchy()}_refreshRowHierarchy(){const e=this;if((e.rowHierarchy=null,!(!e.grouping.enabled&&e.dataSource.groupBy&&0<e.dataSource.groupBy.length))&&e.dataSource.boundHierarchy){const t=e.dataSource.reservedNames,o=function(t){const o=new Smart.Grid.Row({data:t,index:e.rows.length});return e.rowById[o.id]=o,o},l=function(n,a){for(let r=0;r<n.length;r++){const i=n[r];let s=e.rowById[i.$.id];s||(s=o(i)),s.data=i,s.leaf=i[t.leaf]||!1,s.level=i[t.level],s.groupDataField=i.groupDataField,s.label=i.label,s.data&&(s.filtered=void 0===s.data.$.filtered||s.data.$.filtered),i.summaryRow&&(s.summaryRow=!0),(null===e._toggledRow||e._toggledRow&&e._toggledRow.id!==s.id)&&(s.expandHeight=0),i.parent?(s.parent=e.rowById[i.parent.$.id],s.parentId=i.parent.$.id):(s.parent=null,s.parentId=null);const d=s.expanded;if(!0===s.visible&&!1!==s.filtered)if(d||i[t.leaf]){if(a.push(s),i.children&&0<i.children.length){const e=l(i.children,[]);0===e.length&&(s.leaf=!0);for(let o=0;o<e.length;o++)a.push(e[o])}}else if(a.push(s),i.children&&0<i.children.length){const e=l(i.children,[]);0===e.length&&(s.leaf=!0)}}return a};let i=e.dataSource.boundHierarchy;if(e.paging.enabled&&(i=i.slice(e.paging.pageIndex*e.paging.pageSize,(e.paging.pageIndex+1)*e.paging.pageSize)),e.rowHierarchy=l(i,[]),e._rowElements.length<e.rowHierarchy.length&&!e._toggledRow&&e._initializeRowElements(),e.grouping.summaryRow.visible&&!e.grouping.summaryRow.inline){const t=function(e,o,l,i){if(0!==e&&0<o.length&&o[o.length-1]&&!o[o.length-1].summaryRow){let t={label:" ",boundSource:[],groupDataField:l.data.groupDataField,$:{},summaryRow:!0,leaf:!0,level:e,expandHeight:0,siblings:o};t.$.id="SubRow"+i+"_"+l.data.$.id,l&&(t.parent=l.data,t.parentId=l.data.$.id),t.data=Object.assign(t),o.push(t)}for(let n=0;n<o.length;n++)o[n]&&o[n].data&&o[n].data.children&&t(e+1,o[n].data.children,o[n],n)};t(0,e.rowHierarchy,null,0)}}}applyContent(){}_refreshContentHeight(){const e=this;let t=e._clientSize.height;const o=e.offsetHeight;e.$.container.classList.add("smart-hidden");const l=e.offsetHeight;return e.$.container.classList.remove("smart-hidden"),"hidden"===e.verticalScrollBarVisibility||o!==l?(t=e._scrollHeight+e.$.columnHeader.offsetHeight+e.$.filterFooter.offsetHeight,e.$.content.style.height=t+"px",e._contentHeight=t,void(e._maxHeight<t?(e._autoHeight=!1,e.$.content.classList.remove("auto-height"),e.$.content.style.height=e._maxHeight+"px",e._contentHeight=e._maxHeight):(e._autoHeight=!0,e.$.content.classList.add("auto-height")))):void(e.header.visible&&(t-=e.$.header.offsetHeight),e.groupHeader.visible&&(t-=e.$.groupHeader.offsetHeight),e.footer.visible&&(t-=e.$.footer.offsetHeight),e.pager.visible&&(t-=e.$.headerPager.offsetHeight,t-=e.$.footerPager.offsetHeight),e.editing.enabled&&e.editing.commandBar.visible&&(t-=e.$.headerCommandBar.offsetHeight,t-=e.$.footerCommandBar.offsetHeight),e.$.content.style.height=t+"px",e._contentHeight=t)}appendChild(){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(this,e.concat(Array.prototype.slice.call(arguments)))}removeChild(){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(this,e.concat(Array.prototype.slice.call(arguments)))}get enableShadowDOM(){return!0}get _contentBorder(){const e=this;if(e.__contentBorder)return e.__contentBorder;const t=getComputedStyle(e.$.content),o=parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth),l=parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),i={left:o,top:l};return e.__contentBorder=i,i}_refreshLayout(){const e=this,t=e.rows;if(!e._layoutSuspended){if(e._visibleRows=null,e.__viewRows=null,e.__clientSize=null,e.__scrollHeight=null,e.__scrollWidth=null,e.__parentCells=null,e.$.columnFarContainer.classList.remove("vscroll"),e.$.scrollView.classList.remove("hscroll"),e.$.scrollView.classList.remove("vscroll"),e._refreshElementsVisibility(),e._refreshColumnHeights(),e._refreshContentHeight(),!t||null===t||0===t.length||0===e.columns.length)return e.$.placeholder.classList.remove("smart-hidden"),e.scrollWidth=0,void(e.scrollHeight=0);e.__columnHeaderHeight||(e.__columnHeaderHeight=e.$.columnHeader.offsetHeight),e.__filterFooterOffsetHeight||(e.__filterFooterOffsetHeight=e.$.filterFooter.classList.contains("smart-hidden")?0:e.$.filterFooter.offsetHeight);const o=e._contentHeight-e.__filterFooterOffsetHeight-e.__columnHeaderHeight;if(e.$.scrollView.style.height=o+"px",e.htmlColumnLastChild.style.height=e.__columnHeaderHeight+"px",e.paging.spinner.enabled&&e.paging.enabled){if(!e.pageScroll){const t=document.createElement("smart-scroll-bar");t.orientation="vertical",t.style.height="100%",t.style.width="100%",t.max=Math.ceil(e.dataSource.length/e.paging.pageSize),t.step=e.paging.spinner.step,t.largeStep=e.paging.spinner.step,t.setAttribute("spinner",""),t.addEventListener("change",function(t){e.paging.pageIndex=t.detail.value}),e.pageScroll=t}e.htmlColumnLastChild.appendChild(e.pageScroll)}else e.htmlColumnLastChild.innerHTML="";e._refreshScrollBars()}}_refreshScrollBars(){const e=this,t=e._scrollView.vScrollBar,o=e._scrollView.hScrollBar,l=e._contentHeight-e.__filterFooterOffsetHeight-e.__columnHeaderHeight,i=e.$.scrollView.offsetWidth,n=e._scrollWidth-i-e._contentBorder.left,a=e._scrollHeight-l-e._contentBorder.top,r=e._columnNearContainerComputedStyle?e._columnNearContainerComputedStyle:getComputedStyle(e.$.columnNearContainer),s=e._columnFarContainerComputedStyle?e._columnFarContainerComputedStyle:getComputedStyle(e.$.columnFarContainer),d=parseInt(e.$.columnNearContainer.style.width)+parseInt(r.borderRightWidth),u=parseInt(e.$.columnFarContainer.style.width)+parseInt(s.borderLeftWidth);if(e.__frozenNearWidth=d,e.__frozenFarWidth=u,e._columnNearContainerComputedStyle=r,e._columnFarContainerComputedStyle=s,e._refreshHorizontalScrollBarVisibility(n),e._refreshVerticalScrollBarVisibility(a),t.style.height=l+"px",e.computedVerticalScrollBarVisibility&&(!e.__scrollBarSize&&(e.__scrollBarSize=t.offsetWidth),e.__scrollWidth+=e.__scrollBarSize,e._refreshHorizontalScrollBarVisibility(e._scrollWidth-i-1),e.$.columnFarContainer.classList.add("vscroll"),e.htmlColumnLastChild.classList.remove("smart-visibility-hidden")),o.style.width=i+"px",o.style.left="0px",e.computedVerticalScrollBarVisibility&&e.computedHorizontalScrollBarVisibility&&(o.style.width=i-t.offsetWidth+"px",t.style.height=l-o.offsetHeight+"px"),e.computedHorizontalScrollBarVisibility?(e.$.scrollView.classList.add("hscroll"),e._autoHeight?(e.$.content.style.height="auto",e.$.scrollView.style.height="auto",e.$.scrollView.style.paddingBottom=o.offsetHeight+"px"):e.$.scrollView.style.paddingBottom=""):e.$.scrollView.classList.remove("hscroll"),(0<e.__frozenNearHeight||e._frozenNearRows&&0<e._frozenNearRows.length)&&!e.appearance.showVerticalScrollBarOnFixedColumns){const o=getComputedStyle(e.$.rowNearContainer),l=e.__frozenNearHeight+parseInt(o.borderBottomWidth);t.style.height=parseInt(t.style.height)-l+"px",t.style.top=l+"px",t.style.setProperty("--smart-scroll-bar-near-size",l+"px")}else e.appearance.showVerticalScrollBarOnFixedColumns&&(t.style.top="0px");if((0<e.__frozenFarHeight||e._frozenFarRows&&0<e._frozenFarRows.length)&&!e.appearance.showVerticalScrollBarOnFixedColumns){const o=getComputedStyle(e.$.rowFarContainer),l=-2+e.__frozenFarHeight+parseInt(o.borderTopWidth);t.style.height=parseInt(t.style.height)-l+"px",t.style.setProperty("--smart-scroll-bar-far-size",l+"px"),0===e.__frozenNearHeight&&(t.style.top="0px")}(0<d||0<u)&&!e.appearance.showHorizontalScrollBarOnFixedColumns&&(o.style.width=parseInt(o.style.width)-d-u+"px",o.style.left=d+"px",o.style.setProperty("--smart-scroll-bar-near-size",d+parseInt(r.borderRightWidth)+"px"),o.style.setProperty("--smart-scroll-bar-far-size",u+parseInt(r.borderLeftWidth)+"px"),e.computedVerticalScrollBarVisibility&&(!e.__scrollBarSize&&(e.__scrollBarSize=t.offsetWidth),o.style.setProperty("--smart-scroll-bar-far-size",u+e.__scrollBarSize+"px"))),t.refresh(),o.refresh()}_refreshHorizontalScrollBarVisibility(e){const t=this;t.scrollWidth=e,t.computedHorizontalScrollBarVisibility||(t.scrollLeft=0)}_refreshVerticalScrollBarVisibility(e){const t=this;return t._autoHeight?(t.scrollTop=0,void(t.scrollHeight=0)):void(t.computedHorizontalScrollBarVisibility&&(e+=t.$.horizontalScrollBar.offsetHeight),t.scrollHeight=e,t.paging.enabled&&t.paging.spinner.visible&&t.$.verticalScrollBarVisibility.classList.remove("smart-hidden"),!t.computedVerticalScrollBarVisibility&&(t.scrollTop=0))}_styleChangedHandler(e){const t=this;return e.detail.styleProperties.overflow||t.classList.contains("smart-grid-resize-mode")?void 0:e.detail.styleProperties["grid-template-columns"]?(t._templateColumns(),void t.refresh()):void(t._resetCachedLayout(),t._refreshLayout(),t._recycle())}_resetCachedLayout(){const e=this;e.__cellsCommandTemplate=null,e.__autoRowHeight=null,e.__measuredColumnHeight=null,e.__columnHeaderHeight=null,e.__filterFooterOffsetHeight=null}_swipeLeftHandler(){}_swipeRightHandler(){}_getRowIndexByPosition(e){const t=this,o=(o=>{let l=0,i=o.length-1;if(0>=e)return 0;const n=o[o.length-1];if(-1!==n.top&&n.top<=e)return o.length-1;for(;!0;){const n=Math.floor((l+i)/2),a=o[n];if(t._isRowInPosition(a,e))return n;a.top<e?l=n+1:a.top>e?i=n-1:l=n+1}})(t._recyclingRows);return o}get _recyclingRows(){const e=this;if(e.rowHierarchy)return e.rowHierarchy;let t=e.getVisibleRows();return e.paging.enabled&&(t=t.slice(e.paging.pageIndex*e.paging.pageSize,(e.paging.pageIndex+1)*e.paging.pageSize)),t}_isRowInPosition(e,t){const o=e.top,l=e.top+e.height;return 0!==e.height&&o<=t&&l>t}_renderColumnGroupHeaders(){const e=this;for(let t=0;t<e.columnGroups.length;t++){const o=e.columnGroups[t];o.column.render()}}_isLastVisibleColumn(e){const t=this;for(let o=t.viewColumns.length-1;0<=o;o--){const l=t.viewColumns[o];if(l.visible)return l===e}return!1}_recycle(e,t){var o=Math.max;const l=this;if(l._layoutSuspended)return;if(l._isUpdating)return;if(!l._rowElements)return;l.editing.isEditing&&l.endEdit(),l._inputOverlay&&(l._inputOverlay.parentNode&&l._inputOverlay.parentNode.removeChild(l._inputOverlay),l._inputOverlay=null),l._selection.selectionRect&&l._refreshCellSelectionRect();const n=l._scrollView.scrollTop;let i,a=l._getRowIndexByPosition(n),r=l._recyclingRows,s=r[a],d=s?s.top:0,u=0,c=0,m=0,p=0;for(let c=0;c<l._cellsMerge.length;c++){const e=l._cellsMerge[c],t=r.indexOf(e.row);if(a>t&&a<=t+e.rowSpan&&(a=t,s=e.row,m=o(m,d-s.top),d=s.top,l.$.rowContainer.style.top=l.__frozenNearHeight-n+d+"px"),1<e.colSpan)for(let t=0;t<l.viewColumns.length;t++){const i=l.viewColumns[t];let n=i.autoGenerated?i:l.columnByDataField[i.dataField];if(n.visible&&!n.adaptiveVisible&&n.left+n.computedWidth-l._scrollView.scrollLeft>=u&&n.left-n.computedWidth-l._scrollView.scrollLeft<l._clientSize.width){let t=l.columnByDataField[e.column.dataField];p=o(p,n.left-t.left+n.computedWidth);break}}}if(!1!==e||0<l._cellsMerge.length){for(let e=0;e<l._columnElements.length;e++){const t=l._columnElements[e];if(!t.parentNode)break;t.set("column",null,!1),t.classList.add("smart-visibility-hidden")}for(let e=0;e<l.columnGroups.length;e++){const t=l.columnGroups[e],o=t.element;o.style.left=t.left+"px",o.style.width=t.computedWidth+"px"}l._firstVisibleColumn=null,l._lastVisibleColumn=null;for(let e=0;e<l.viewColumns.length;e++){const t=l.viewColumns[e];let o=t.autoGenerated?t:l.columnByDataField[t.dataField];if((o.visible||o.adaptiveVisible)&&(!l._firstVisibleColumn&&(l._firstVisibleColumn=o),l._lastVisibleColumn=o),o.element&&(o===l._firstVisibleColumn?o.element.classList.add("smart-grid-column-border-collapse"):o.element.classList.remove("smart-grid-column-border-collapse")),o.freeze){(!0===o.freeze||"near"===o.freeze)&&o.visible&&(u+=o.computedWidth),!o.visible||o.adaptiveVisible?o.element.classList.add("smart-visibility-hidden"):(o.element.classList.remove("smart-visibility-hidden"),o.render());continue}if(o.visible&&!o.adaptiveVisible)if(0<l._adaptiveLayout)o.element.classList.add("smart-visibility-hidden");else if(o.left+o.computedWidth-l._scrollView.scrollLeft>=u-p&&o.left-o.computedWidth-l._scrollView.scrollLeft<l._clientSize.width){const e=l._columnElements[c++];e.set("column",o,!1),e.parentNode||l.$.columnContainer.appendChild(e),o.element=e,o.render(),void 0===i&&(i=o.left)}}}if(void 0===i&&(i=0),l.$.columnContainer.style.left=-l._scrollView.scrollLeft+"px",l.$.rowContainer.style.top=l.__frozenNearHeight-n+d+"px",!1!==t){if(0<=a){c=0;let e=o(l._clientSize.height,l._overflowOffset);for(let t=a;t<r.length;t++){const o=r[t];if(0===o.height||!o.visible||!1===o.filtered||o.freeze)continue;const i=o.height;if(o.expandHeight&&(e+=l.offsetHeight+o.expandHeight),d+i>=n-m&&d<=n+e||l._autoHeight){const e=l._rowElements[c++];if(!e)break;o.element=e,o.grid=l,o.render()}else break;d+=i}}if(l._renderFrozenRows(),c<l._rowElements.length)for(let e=c;e<l._rowElements.length;e++){const e=l._rowElements[c++];e.classList.add("smart-hidden")}}}_renderFrozenRows(){const e=this;let t=!1,o=!1;0===e._frozenNearRows.length?e.$.rowNearContainer.classList.add("smart-hidden"):e.$.rowNearContainer.classList.remove("smart-hidden");for(let o=0;o<e._frozenNearRows.length;o++){const l=e._frozenNearRows[o];l.visible&&l.filtered&&(t=!0,l.element=e.$.rowNearContainer.children[o],l.render())}t||e.$.rowNearContainer.classList.add("smart-hidden"),0===e._frozenFarRows.length?e.$.rowFarContainer.classList.add("smart-hidden"):e.$.rowFarContainer.classList.remove("smart-hidden");for(let t=0;t<e._frozenFarRows.length;t++){const l=e._frozenFarRows[t];l.visible&&(o=!0),l.element=e.$.rowFarContainer.children[t],l.render()}o||e.$.rowFarContainer.classList.add("smart-hidden")}_recycleRotate(e,t,o,l,i){const n=t.getBoundingClientRect(),a=e.getBoundingClientRect(),r=4;let s=0,d=0;return 0===a.width?(e.innerHTML=i,!1):(n.left>a.left&&(s=a.left-n.left),n.top<a.top&&(d=a.top-n.top),("left"===o||""===o)&&(s=r),"center"===o&&(s+=a.width/2-n.width/2),"right"===o&&(s+=a.width-n.width-r),("top"===l||""===l)&&(d=r),("center"===l||"middle"===l)&&(d+=a.height/2-n.height/2),"bottom"===l&&(d+=a.height-n.height-r),t.style.left=s+"px",t.style.top=d+"px",!0)}_virtualDataRequest(e){var t=Math.ceil;const o=this;let l=-1,n=-1;if(!o._rowElements&&"infinite"!==o.scrollMode)return;if("virtual"===o.scrollMode)for(let e=0;e<o._rowElements.length;e++){const t=o._rowElements[e],i=t.row,a=0==e?i.visibleIndex:l+e;t.classList.contains("smart-hidden")||(-1===l&&(l=a),-1!==a)&&(n=1+a)}else"infinite"===o.scrollMode?(l=1/0,n=1/0):(l=0,n=o.dataSource.length);o.paging.enabled&&(l=o.paging.pageIndex*o.paging.pageSize,n=l+o.paging.pageSize),n!==1/0&&(n=Math.min(n,o.dataSource.length)),o.displayLoadingIndicator=!0,o._setLoadingIndicatorVisibility();const i={first:l,last:n,sorting:o.getSortedColumns(),filtering:o.getFilteredColumns(),grouping:[],row:o._toggledRow?o._toggledRow.data:null,action:e},a=o.dataSource.length;o.dataSource.onVirtualDataSourceRequested(function(){o.displayLoadingIndicator=!1,o._setLoadingIndicatorVisibility(),o._toggledRow=null,o.dataSource.length===a?o.dataSource.virtualDataSourceOnExpand&&o.refresh():(o.paging.enabled&&(o.$.headerPager.querySelector("smart-pager").pagesCount=t(o.dataSource.length/o.paging.pageSize),o.$.footerPager.querySelector("smart-pager").pagesCount=t(o.dataSource.length/o.paging.pageSize)),o._initializeRows(),o._initializeRowElements(),o.refresh()),o._recycle()},i)}_verticalScrollbarHandler(e){const t=this;t.closeMenu(),t.isScrolling=!0,t._scrollTimer&&clearTimeout(t._scrollTimer),t._scrollTimer=setTimeout(()=>(t._recycle(!1),t.isScrolling=!1,e.max===e.value&&(t.$.fireEvent("scrollBottomReached"),"infinite"===t.scrollMode)?void t._virtualDataRequest("scroll"):void("virtual"===t.scrollMode&&t._virtualDataRequest("scroll"),e.min===e.value&&t.$.fireEvent("scrollTopReached"))))}}),function(){"use strict";Smart.Grid.Extend=function(e){const t=Object.getOwnPropertyNames(e.prototype);for(let o in t){const l=t[o];"constructor"!==l&&(Smart.Grid.prototype[l]=e.prototype[l])}},Smart.Grid.Extend(Smart.Utilities.Grid.Filter),Smart.Grid.Extend(Smart.Utilities.Grid.Sort),Smart.Grid.Extend(Smart.Utilities.Grid.Menu),Smart.Grid.Extend(Smart.Utilities.Grid.Select),Smart.Grid.Extend(Smart.Utilities.Grid.Edit),Smart.Grid.Extend(Smart.Utilities.Grid.Group),Smart.Grid.Extend(Smart.Utilities.Grid.Tree),Smart.Grid.Cell=Smart.Utilities.Grid.Cell,Smart.Grid.Row=Smart.Utilities.Grid.Row,Smart.Grid.Column=Smart.Utilities.Grid.Column}();