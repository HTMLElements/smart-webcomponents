
/* Smart HTML Elements v7.4.0 (2020-Apr) 
Copyright (c) 2011-2020 jQWidgets. 
License: https://htmlelements.com/license/ */ //

!function(e){var t={};function l(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=t,l.d=function(e,t,i){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(i,n,function(t){return e[t]}.bind(null,n));return i},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=44)}({44:function(e,t){Smart.Utilities.Assign("Grid.Cell",class{constructor(e,t){const l=this;return l.row=e,l.column=t,l.grid=e.grid,l.rowSpan=1,l.colSpan=1,l.value=void 0,l.fontSize=null,l.fontWeight=null,l.fontFamily=null,l.fontStyle=null,l.color=null,l.background=null,l.borderColor=null,l.tooltip=null,l.align=null,l.verticalAlign=null,l.readonly=!1,l.oldValue=void 0,l._updating=!1,l.styleChanged=!0,l.editor=null,l.template=null,l.isEditing=!1,l.canNotify=!0,l.selected=!1,l.focused=!1,new Proxy(l,{deleteProperty:function(e,t){return delete e[t],!0},get:function(e,t){if("value"===t){return l.column.displayField?l.row.data[l.column.displayField]:l.row.data[l.column.dataField]}if("editor"===t||"template"===t)return e[t]||l.column[t];if("focused"===t){if(l.grid.selection.allowCellSelection&&l.grid._selection.focusedCell&&l.grid._selection.focusedCell.row.id===l.row.id&&l.grid._selection.focusedCell.column.dataField===l.column.dataField)return!0;if(l.grid.selection.allowRowSelection&&l.grid._selection.focusedCell&&l.grid._selection.focusedCell.row.id===l.row.id&&l.grid._selection.focusedCell.column.dataField===l.column.dataField)return!0;const e=l.parent();return!!(e&&l.grid.selection.allowCellSelection&&l.grid._selection.focusedCell&&l.grid._selection.focusedCell.row.id===e.row.id&&l.grid._selection.focusedCell.column.dataField===e.column.dataField)}if("selected"===t)return!0===l.row.getProperty("selected")||(!0===l.column.getProperty("selected")||!!l.grid._selection.cells["row"+l.row.id]&&l.grid._selection.cells["row"+l.row.id][l.column.dataField]);if("modifiedValue"===t){const t=l.grid._cellsUpdatedValues[l.row.id+"_"+l.column.dataField];return void 0!==t?t:e.value}return e[t]},set:function(e,t,i){const n=this.get(e,t);if(n===i)return!0;if(e[t]=i,"element"===t||"isEditing"===t||"oldValue"===t||"_updating"===t||"notifyFn"===t||t.startsWith("_")||"canNotify"===t)return!0;if("focused"===t&&(l.grid._selection.focusedCell=l),"colSpan"!==t&&"rowSpan"!==t||i>=0&&-1===l.grid._cellsMerge.indexOf(l)&&l.grid._cellsMerge.push(l),"row"===t||"column"===t||"grid"===t||"styleChanged"===t)return!0;if("background"!==t&&"fontSize"!==t&&"fontWeight"!==t&&"fontFamily"!==t&&"color"!==t&&"borderColor"!==t&&"fontStyle"!==t||(l._styleChanged=!0),"value"===t){void 0===l.oldValue&&(l.oldValue=n),(()=>{l.grid.dataSource.boundSource.canNotify=!1,null!==i&&i.label&&i.value?(l.row.data[l.column.displayField]=i.label,l.row.data[l.column.dataField]=i.value):(l.column.valueField&&(l.row.data[l.column.valueField]=i),l.row.data[l.column.dataField]=i);const e=l.grid.dataSource.dataItemById[l.row.id];if(e){const t=e.$.index;i!==l.grid.dataSource[t][l.column.dataField]&&(l.grid.dataSource[t][l.column.dataField]=i)}l.grid.dataSource.boundSource.canNotify=!0})()}return"selected"===t&&(l.grid._selection.cells["row"+l.row.id]&&(delete l.grid._selection.cells["row"+l.row.id][l.column.dataField],1===Object.getOwnPropertyNames(l.grid._selection.cells["row"+l.row.id]).length&&delete l.grid._selection.cells["row"+l.row.id]),l.grid._selection.cells["column"+l.column.dataField]&&(delete l.grid._selection.cells["column"+l.column.dataField][l.row.id],1===Object.getOwnPropertyNames(l.grid._selection.cells["column"+l.column.dataField]).length&&delete l.grid._selection.cells["column"+l.column.dataField]),i&&(l.grid._selection.cells["row"+l.row.id]||(l.grid._selection.cells["row"+l.row.id]=[]),l.grid._selection.cells["column"+l.column.dataField]||(l.grid._selection.cells["column"+l.column.dataField]=[]),l.grid._selection.cells["row"+l.row.id][l.column.dataField]=!0,l.grid._selection.cells["column"+l.column.dataField][l.row.id]=!0)),!(!l._updating&&l.canNotify)||(!l.row.canNotify||(l.grid._recycle(),l.propertyChanged&&l.propertyChanged(name.substring(1),n),!0))}})}setStyle(e){const t=this;t._styleChanged&&(e.style.background=t.background,e.style.borderColor=t.borderColor,e.style.color=t.color,e.style.fontSize=t.fontSize,e.style.fontFamily=t.fontFamily,e.style.fontWeight=t.fontWeight,e.style.fontStyle=t.fontStyle,e.style.paddingBottom="",t._styleChanged=!1)}getFormattedValue(e,t){const l=this;return null==e||""===e?e:"date"===l.column.dataType||"datetime"===l.column.dataType||"time"===l.column.dataType?l.formatDate(e,t):"int"===l.column.dataType||"int64"===l.column.dataType||"float"===l.column.dataType||"number"===l.column.dataType?l.formatNumber(e,t):e}formatDate(e,t){if(!Smart.Utilities.DateTime)return e;const l=this,i=l.grid;if(l.column.formatSettings.Intl&&l.column.formatSettings.Intl.DateTimeFormat){return new Intl.DateTimeFormat(this.grid.locale,l.column.formatSettings.Intl.DateTimeFormat).format(e)}!t&&l.column.formatSettings.dateFormat&&(t=l.column.formatSettings.dateFormat);try{const l=new Smart.Utilities.DateTime(e);return l.calendar.locale=i.locale,i.messages[i.locale]&&i.messages[i.locale].calendar&&(i.messages[i.locale].calendar.months&&(l.calendar.months=i.messages[i.locale].calendar.months),i.messages[i.locale].calendar.days&&(l.calendar.days=i.messages[i.locale].calendar.days),void 0!==i.messages[i.locale].calendar.firstDay&&(l.calendar.firstDay=i.messages[i.locale].calendar.firstDay),void 0!==i.messages[i.locale].calendar.eras&&(l.calendar.eras=i.messages[i.locale].calendar.eras),void 0!==i.messages[i.locale].calendar.AM&&(l.calendar.AM=i.messages[i.locale].calendar.AM),void 0!==i.messages[i.locale].calendar.PM&&(l.calendar.PM=i.messages[i.locale].calendar.PM),void 0!==i.messages[i.locale].calendar["/"]&&(l.calendar["/"]=i.messages[i.locale].calendar["/"]),void 0!==i.messages[i.locale].calendar[":"]&&(l.calendar[":"]=i.messages[i.locale].calendar[":"])),l.toString(t)}catch(t){return e}}formatNumber(e,t){if(!Smart.Utilities.NumberRenderer)return e;const l=this,i=l.grid;if(l.column.formatSettings.Intl&&l.column.formatSettings.Intl.NumberFormat){return new Intl.NumberFormat(this.grid.locale,l.column.formatSettings.Intl.NumberFormat).format(e)}const n=new Smart.Utilities.NumberRenderer;if(n.localizationObject){const e=l.column.formatSettings,t=i.messages[i.locale]?i.messages[i.locale].calendar:{};e.decimalPlaces&&(n.localizationObject.decimalPlaces=e.decimalPlaces),(e.decimalSeparator||t.decimalSeparator)&&(n.localizationObject.decimalSeparator=e.decimalSeparator||t.decimalSeparator),(e.thousandsSeparator||t.thousandsSeparator)&&(n.localizationObject.thousandsSeparator=e.thousandsSeparator||t.thousandsSeparator),n.localizationObject.currencysymbol=t.currencySymbol,n.localizationObject.currencysymbolposition=t.currencySymbolPosition,e.prefix&&(n.localizationObject.currencysymbol=e.prefix),e.sufix&&(n.localizationObject.currencysymbol=e.sufix,n.localizationObject.currencysymbolposition="after")}const r=n.formatNumber(e,t);return void 0===r?e:e<0&&l.column.formatSettings.negativeWithBrackets?"("+r+")":r}refresh(){const e=this;if(e.element){const t=e.element.firstChild;e.setStyle(t)}}setProperties(e){const t=this;t._updating=!0;for(let l in e)t[l]=e[l];t._updating=!1,t.grid._recycle()}createElement(){const e=document.createElement("smart-grid-cell");return e.setAttribute("role","gridcell"),this.element=e,e._initialize(this),e}render(){this.element&&this.element._render()}parent(e){const t=this,l=t.row,i=t.column.dataField,n=t.grid;if(!n._cellsMerge.length)return null;if(t.__parentCells&&void 0!==t.__parentCells["row"+l.id+"_column_"+i])return t.__parentCells["row"+l.id+"_column_"+i];let r=n.getVisibleRows();n.paging.enabled&&"page"===n.selection.selectAllMode&&(r=r.slice(n.paging.pageIndex*n.paging.pageSize,(n.paging.pageIndex+1)*n.paging.pageSize)),t.__parentCells||(t.__parentCells=[]);for(let a=0;a<n._cellsMerge.length;a++){const o=n._cellsMerge[a];let s=[],d=[];if(s.push(o.row),o.rowSpan>1){const e=r.indexOf(o.row);if(e>=0)for(let t=e;t<e+o.rowSpan;t++)r[t]&&-1===s.indexOf(r[t])&&s.push(r[t])}if(d.push(o.column.dataField),o.colSpan>1){const e=n.columns.indexOf(n.columnByDataField[o.column.dataField]);for(let t=e;t<e+o.colSpan;t++)n.columns[t]&&-1===d.indexOf(n.columns[t].dataField)&&d.push(n.columns[t].dataField)}if(s.indexOf(l)>=0&&d.indexOf(i)>=0){if(e){const e={cell:o.row.getCell(o.column.dataField),rows:s,columns:d,row:o.row,column:o.column,endRow:s[s.length-1],endColumn:n.columnByDataField[d[d.length-1]]};return t.__parentCells["row"+l.id+"_column_"+i]=e,e}const r=o.row.getCell(o.column.dataField);return t.__parentCells["row"+l.id+"_column_"+i]=r,r}}return t.__parentCells["row"+l.id+"_column_"+i]=null,null}}),Smart("smart-grid-cell",class extends Smart.BaseElement{static get properties(){return{}}get hasStyleObserver(){return!1}get enableShadowDOM(){return!1}addThemeClass(){}addDefaultClass(){}get isUtilityElement(){return!0}_refresh(){this.innerHTML="",this._initialize(this.cell)}_initialize(e){const t=this,l=document.createElement("div"),i=e.column,n=e.row,r=e.grid;t.cell=e,t.appendChild(l);let a=!1;if(i&&i._treeColumn&&r.dataSource.boundHierarchy&&(a=!0,!r.grouping.enabled&&r.dataSource.groupBy&&r.dataSource.groupBy.length>0&&(a=!1)),a){const e=document.createElement("div"),i=document.createElement("button"),a=document.createElement("div"),o=document.createElement("div"),s=document.createElement("div"),d=document.createElement("span");return n.expanded?i.setAttribute("toggled",""):i.removeAttribute("toggled",""),t.toggleButton=i,t.checkbox=s,l.appendChild(e),l.appendChild(o),o.setAttribute("content",""),e.setAttribute("indent",""),a.setAttribute("label",""),i.setAttribute("toggle-button",""),s.setAttribute("checkbox",""),s.setAttribute("role","checkbox"),t.setAttribute("has-toggle-button",""),o.appendChild(i),o.appendChild(s),d.classList.add("smart-input"),s.appendChild(d),r.checkBoxes.visible?d.classList.remove("smart-hidden"):d.classList.add("smart-hidden"),o.appendChild(a),t.content=a,void(t.isRendered=!0)}{const e=document.createElement("div");l.appendChild(e)}t.content=l,t.isRendered=!0}_renderCommands(){const e=this,t=e.cell.grid;if(t.__cellsCommandTemplate)return e.firstChild.innerHTML=t.__cellsCommandTemplate,void t._updateCommandColumnCommandsVisibility(e.firstChild,e.cell.row);const l=t._getCommandColumnCommandsTemplate();e.firstChild.innerHTML=l,t._updateCommandColumnCommandsVisibility(e.firstChild,e.cell.row),t.__cellsCommandTemplate=l}_renderGroupCell(){const e=this,t=e.cell.grid,l=e.cell.column,i=e.cell.row;[...e.attributes].forEach(t=>e.removeAttribute(t.name)),e.style.width!==l.computedWidth+"px"&&(e.style.width=l.computedWidth+"px"),t.rightToLeft?e.style.right!==l.left+"px"&&(e.style.right=l.left+"px"):e.style.left!==l.left+"px"&&(e.style.left=l.left+"px"),e.classList.contains("smart-hidden")&&e.classList.remove("smart-hidden"),l.autoGenerated&&(e.style.width="0px");let n=i.label;if(void 0!==i.label){let r="";if(t.grouping.summaryRow.visible){const e=function(t,l,i){for(let n=0;n<l.length;n++){const r=l[n];void 0!==r[t]&&i.push(r),r.summaryRow||(r.children||r.data&&r.data.children)&&e(t,r.children,i)}return i},n=e(l.dataField,i.summaryRow?i.parent.data.children:i.data.children,[]),a={},o=l._treeColumn?l.summary.length>0?l.summary:["count"]:l.summary;a[l.dataField]=o;const s=o.length>0?t.dataSource.summarize([a],n):null;if(s)for(let e=0;e<o.length;e++){const i=o[e];r+="<span summary>"+t.localize(i,{value:s[l.dataField][i]})}}l._treeColumn?(n=i.summaryRow?"<div header><span group></span><span value></span></div>":"<div header><span group>"+t.columnByDataField[i.groupDataField].label+"</span><span value>"+i.label+"</span></div>",r&&(n+="<div summary>",n+=r,n+="</div>"),e.setAttribute("has-toggle-button","")):(e.removeAttribute("has-toggle-button",""),n="<div content><div label><div header><span group></span><span value></span></div>",r&&(n+="<div summary>",n+=r,n+="</div>"),n+="</div></div>")}const r=e.firstChild;if(t.dataSource.boundHierarchy&&l._treeColumn){const a=r.children[0],o=r.children[1].children[0],s=r.children[1].children[1].firstChild,d=r.children[1].children[2];a.setAttribute("indent",""),i.checked?s.setAttribute("checked",""):!1===i.checked?s.removeAttribute("checked"):null===i.checked&&s.setAttribute("checked","indeterminate"),i.leaf?o.classList.add("smart-visibility-hidden"):(o.classList.remove("smart-visibility-hidden"),i.expanded?o.setAttribute("toggled",""):o.removeAttribute("toggled",""));let c="";if(l._treeColumn?e.toggleButton.classList.remove("smart-hidden"):e.toggleButton.classList.add("smart-hidden"),l._treeColumn)if(t.grouping.enabled&&t.dataSource.groupBy.length>0){let e=i.level;void 0===i.label&&e--,c+='<div style="width: '+(1+e)*t.grouping.groupIndent+'px;"></div>'}else for(let e=0;e<i.level;e++)c+="<div class='smart-indent'></div>";void 0===i.label?o.classList.add("smart-hidden"):(o.classList.remove("smart-hidden"),o.style.marginLeft="",l._treeColumn&&t.grouping.enabled&&t.grouping.toggleButtonIndent>0&&(o.style.marginLeft=i.level*(t.grouping.toggleButtonIndent-t.grouping.groupIndent)+"px")),a.innerHTML=c,d.innerHTML=n,t.appearance.showTooltips?d.setAttribute("title",i.label?i.label:n):d.hasAttribute("title")&&d.removeAttribute("title")}else void 0!==i.label&&t.grouping.enabled&&!l._treeColumn&&(r.innerHTML=n);if(t.grouping.enabled&&t.dataSource.groupBy&&t.dataSource.groupBy.length>0){const n=t.grouping.groupIndent*(1+i.level);l.dataField===t.columns[t.columns.length-1].dataField&&(e.style.width=l.computedWidth-n+"px",t.appearance.showColumnLines&&r.firstChild.classList.add("smart-grid-column-border"))}if("smart-label"!==r.className&&(r.className="smart-label"),l.formatFunction){const t={row:i,column:l,cell:e.cell,value:null,template:null,group:{value:n,template:null}};l.formatFunction(t),t.group.value!==n&&(r.innerHTML=t.group.value),null!==t.group.template&&(r.innerHTML=t.group.template)}}_render(){const e=this,t=e.cell.grid,l=e.cell.column,i=e.cell.row,n=i.data,r=i._isMeasureRow?null:l.cellsFormat;if(t.grouping.enabled&&t.dataSource.groupBy.length>0&&void 0!==i.label)return void e._renderGroupCell();if(t.grouping.enabled&&t.dataSource.groupBy.length>0&&e.toggleButton&&(e.toggleButton.classList.remove("smart-hidden"),e.toggleButton.classList.remove("smart-visibility-hidden"),e.toggleButton.style.marginLeft="",l._treeColumn&&t.grouping.enabled&&t.grouping.toggleButtonIndent>0&&(e.toggleButton.style.marginLeft=i.level*(t.grouping.toggleButtonIndent-t.grouping.groupIndent)+"px")),!l.visible)return void(e.style.width="0px");t.appearance.showSortColumnBackground?l.sorted?e.setAttribute("sort",""):e.removeAttribute("sort"):l.sorted&&e.hasAttribute("sort")&&e.removeAttribute("sort"),t.appearance.showFilterColumnBackground?l.filtered?e.setAttribute("filter",""):e.removeAttribute("filter"):l.filtered&&e.hasAttribute("filter")&&e.removeAttribute("filter"),t.dataSource.boundHierarchy&&e.hasAttribute("has-toggle-button")&&!l._treeColumn&&e.removeAttribute("has-toggle-button");let a=l.displayField?n[l.displayField]:n[l.dataField];if(t.editing.batch){if(t._cellsUpdatedValues){e.removeAttribute("update");const n=t._cellsUpdatedValues[i.id+"_"+l.dataField];void 0!==n&&(e.setAttribute("update",""),a=n)}t._rowsDeleted&&(t._rowsDeleted.indexOf(i)>=0?e.setAttribute("delete",""):e.removeAttribute("delete")),t._rowsAdded&&(t._rowsAdded.indexOf(i.id)>=0?e.setAttribute("add",""):e.removeAttribute("add"))}!t.onCellValue||l.rowHeaderColumn||l.selectionColumn||(e.cell._updating=!0,t.onCellValue(e.cell),e.cell._updating=!1,a=e.cell.value),void 0===a&&(a="");let o=a;r&&(o=e.cell.getFormattedValue(a,r));const s=e.firstChild;(t.onCellRender||l.onCellRender)&&requestAnimationFrame((function(){if(l._cellsCachedValues||(l._cellsCachedValues=[]),l._cellsCachedValues[i.index]){const e=l._cellsCachedValues[i.index];s.firstChild&&s.removeChild(s.firstChild),s.appendChild(e)}else if(t.onCellRender?t.onCellRender(e.cell):l.onCellRender(e.cell),e.cell.template!==l.template){const t=document.createElement("div");return s.firstChild&&s.removeChild(s.firstChild),e.cell.template instanceof HTMLTemplateElement?t.appendChild(e.cell.template.cloneNode(!0)):t.appendChild(e.cell.template),s.appendChild(t),void(l._cellsCachedValues[i.index]=t)}})),l.autoGenerated||e.setAttribute("data-field",l.dataField),e.cell.focused?(t.selection.allowCellSelection&&e.setAttribute("focus",""),i.element.setAttribute("focus",""),e.cell.id||(e.id="gridcell_"+Math.floor(65536*(1+Math.random())).toString(16).substring(1)),t.setAttribute("aria-activedescendant",e.id)):e.removeAttribute("focus"),e.cell.selected?(e.setAttribute("selected",""),e.setAttribute("aria-selected",!0)):(e.removeAttribute("selected"),e.removeAttribute("aria-selected")),t.rowDetail.enabled&&i.showDetail&&(e.style.height=i.cellHeight+"px",e.style.lineHeight=i.cellHeight+"px"),i.expanded&&i.expandHeight>0&&(e.style.height=i.cellHeight+"px",e.style.lineHeight=i.cellHeight+"px");const d=e._getCellAlignment(i,l),c=""!==e.cell.template&&t.isInitialized&&!i._isMeasureRow;let u="";if(d.align&&(u+=d.align+" "),d.verticalAlign&&(u+=d.verticalAlign+" "),l.cellsWrap&&(u+="wrap "),u+="smart-label",e.style.width!==l.computedWidth+"px"){const i=t._isLastVisibleColumn(l);l.autoGenerated||i?e.style.width=l.computedWidth+"px":e.style.width=l.computedWidth-t._columnGap+"px"}if(t.grouping.enabled&&t.dataSource.groupBy&&t.dataSource.groupBy.length>0){const n=t.grouping.groupIndent*(1+i.level);l.dataField===t.columns[t.columns.length-1].dataField&&(e.style.width=l.computedWidth-n+t.grouping.groupIndent+"px",t.appearance.showColumnLines&&e.classList.add("smart-grid-column-border"))}l===t._firstVisibleColumn?e.classList.add("smart-grid-column-border-collapse"):e.classList.remove("smart-grid-column-border-collapse"),t._columnGap>0&&t.appearance.showColumnLines&&e.classList.add("smart-grid-column-border"),t._rowGap>0&&e.classList.add("smart-grid-row-border"),t.appearance.showColumnLines?e.classList.remove("smart-grid-vertical-border-collapse"):e.classList.add("smart-grid-vertical-border-collapse"),t.appearance.showRowLines?e.classList.remove("smart-grid-horizontal-border-collapse"):e.classList.add("smart-grid-horizontal-border-collapse");let m=l.left;if(t.rightToLeft?e.style.right!==m+"px"&&(e.style.right=m+"px"):e.style.left!==m+"px"&&(e.style.left=m+"px"),e.classList.contains("smart-hidden")&&e.classList.remove("smart-hidden"),e.hasAttribute("template")&&e.removeAttribute("template"),e.hasAttribute("freeze")&&e.removeAttribute("freeze"),e.hasAttribute("detail")&&e.removeAttribute("detail"),i.filterRow?e.classList.add("smart-grid-filter-row-cell"):i.summaryRow?e.classList.add("smart-grid-summary-row-cell"):(l.freeze||i.freeze)&&(l.selectionColumn&&(e.setAttribute("checkbox",""),u+=" smart-input",l.grid.selection.checkBoxes.enabled&&l.grid.selection.checkBoxes.autoShow?e.setAttribute("auto-show",""):e.removeAttribute("auto-show")),(l.rowHeaderColumn||l.selectionColumn)&&(e.setAttribute("header",""),e.setAttribute("role","rowheader")),l.rowDetailColumn&&(e.setAttribute("header",""),e.setAttribute("detail",""),e.setAttribute("has-toggle-button","")),l.commandColumn&&e.setAttribute("command",""),t.appearance.showFrozenColumnBackground&&l.freeze&&e.setAttribute("freeze",""),t.appearance.showFrozenRowBackground&&i.freeze&&e.setAttribute("freeze","")),l.cellsRotationAngle){if(!e._rotateCellContent(s,l,a))return}else if(i.filterRow)l.toggleColumn||l.rowHeaderColumn?s.innerHTML="":l.filterEditorInitialized||(l.filterEditorInitialized=!0);else if(i.summaryRow){if(l.toggleColumn||l.rowHeaderColumn)s.innerHTML="";else if(l.summary.length>0&&t._summaryItems){const e=t._summaryItems[l.dataField];let n=0;for(let l in e)n===i.summaryRowIndex&&(s.innerHTML=t.localize(l,{value:e[l]})),n++}}else if(t.rowDetail.enabled&&l.rowDetailColumn)""!==s.innerHTML&&(i.showDetail?s.innerHTML='<button class="smart-animate" toggled toggle-button></button>':s.innerHTML='<button class="smart-animate" toggle-button></button>',i.element.toggleDetailButton=e.querySelector("button"));else if(l.commandColumn)e._renderCommands();else if(t.appearance.showRowHeaderNumber&&l.rowHeaderColumn)if(i.addNewRow)s.textContent="";else{const l=l=>{if(e.cell.value)return e.cell.value;if("number"===t.appearance.autoGenerateRowLabelMode)return l.visibleIndex+1;{const e=l.visibleIndex%26,t=Math.floor(l.visibleIndex/26),i="A".charCodeAt(0),n=String.fromCharCode(i+e);let r="";for(let e=0;e<t;e++)r+="A";return r+n}};t._rowsAdded&&t._rowsAdded.indexOf(i.id)>=0?s.textContent="":s.textContent=l(i)}else if(c)switch(e.removeAttribute("readonly"),e.cell.template){case"checkBox":case"switchButton":case"radioButton":""!==s.textContent&&(s.textContent=""),(!t.editing.enabled||!l.allowEdit||e.cell.readonly||t.editing.enabled&&t.editing.commandColumn.visible&&t.editing.editRow!==e.cell.row)&&e.setAttribute("readonly",""),'<span class="smart-input"></span>'!==s.innerHTML&&(s.innerHTML='<span class="smart-input"></span>'),a?s.firstChild.setAttribute("checked",""):null===a?s.firstChild.setAttribute("checked","indeterminate"):s.firstChild.removeAttribute("checked"),e.setAttribute("template",e.cell.template);break;default:{let t=null;if(e.setAttribute("template",""),"function"==typeof e.cell.template){const t={row:i,column:l,cell:e.cell,oldValue:e.cell.oldValue,value:a,template:null};let n=s.querySelector(".smart-grid-cell-template");if(n&&n.getAttribute("column")===l.dataField?t.template=n.firstElementChild:n=null,e.formattedValue!==o&&(n=null),n||e.cell.template(t),!n&&t.template)if(t.template instanceof HTMLElement){const e=document.createElement("div");e.classList.add("smart-grid-cell-template"),e.setAttribute("column",l.dataField),s.innerHTML="",s.appendChild(e),e.appendChild(t.template)}else s.innerHTML='<div column="'+l.dataField+'" class="smart-grid-cell-template">'+t.template+"</div>";else n||null!==t.template||(s.innerHTML=a);e.cell._styleChanged&&e.cell.setStyle(s),void 0===e.cell.oldValue&&(e.cell.oldValue=a),e.formattedValue=o}else if(""!==s.textContent&&(s.textContent=""),e.cell.template.startsWith("#")&&(t=document.querySelector(e.cell.template)),t){const e=t.content.cloneNode(!0).firstElementChild;a=a.toString(),a=a.replace(/'/gi,"\\'"),a=a.replace(/"/gi,'\\"');let l=e.outerHTML.replace(/{{value}}/gi,a).replace(/{{id}}/gi,i.id);l.indexOf("{{value=")>=0&&(a?(l=l.substring(0,l.indexOf("{{value="))+a+l.substring(l.indexOf("}")),l=l.replace(/}/gi,""),l=l.replace(/{/gi,"")):(l=l.replace(/{{value=/gi,""),l=l.replace(/}}/gi,""))),s.innerHTML!==l&&(s.innerHTML=l)}else{""===a&&(a="&nbsp;");const t=e.cell.template.replace(/{{value}}/gi,a).replace(/{{id}}/gi,i.id);s.innerHTML!==t&&(s.innerHTML=t)}}}else if(l.selectionColumn)"checkBox"===t.selectionMode&&(i.getProperty("selected")?(e.setAttribute("selected",""),e.element.setAttribute("aria-selected",!0)):e.getAttribute("selected")&&(e.removeAttribute("selected"),e.element.removeAttribute("aria-selected")));else{const n=s.firstChild;if(n&&n.classList&&e.toggleButton&&l._treeColumn){const n=s.children[0],r=s.children[1].children[0],a=s.children[1].children[1].firstChild,d=s.children[1].children[2];let c="";if(l._treeColumn){if(t.grouping.enabled){c+='<div style="width: '+(1+(i.level-1))*t.grouping.groupIndent+'px;"></div>'}else for(let e=0;e<i.level;e++)c+="<div class='smart-indent'></div>";i.checked?a.setAttribute("checked",""):!1===i.checked?a.removeAttribute("checked"):null===i.checked&&a.setAttribute("checked","indeterminate"),i.leaf?i.allowCheck?a.classList.remove("smart-visibility-hidden"):a.classList.add("smart-visibility-hidden"):i.allowCheck?a.classList.remove("smart-hidden"):a.classList.add("smart-hidden")}i.allowCheck?t.checkBoxes.visible?a.classList.remove("smart-hidden"):a.classList.add("smart-hidden"):t.checkBoxes.visible||a.classList.add("smart-hidden"),n.innerHTML=c,r.classList.add("smart-visibility-hidden"),i.leaf?r.classList.add("smart-visibility-hidden"):(r.classList.remove("smart-visibility-hidden"),i.expanded?r.setAttribute("toggled",""):r.removeAttribute("toggled","")),i.data.isEmpty&&r.classList.add("smart-visibility-hidden"),d.innerHTML=o,t.appearance.showRowHeaderNumber&&t.grouping.enabled&&t.dataSource.groupBy.length>0&&(o="<span visible-index>"+(1+i.visibleIndex)+"</span> "+o),t.rowDetail.enabled&&t.grouping.enabled&&t.dataSource.groupBy.length>0&&(d.innerHTML='<button class="inline smart-animate" toggled toggle-button></button>'+o,i.element.toggleDetailButton=e.querySelector("button.inline"),i.element.toggleDetailButton.setAttribute("title",t.localize(i.showDetail?"collapseRow":"expandRow",{elementType:"Grid"})),i.element.toggleDetailButton.onpointerdown=function(){i.showDetail=!i.showDetail}),t.appearance.showTooltips?d.setAttribute("title",o):d.hasAttribute("title")&&d.removeAttribute("title")}else{const n=i["column_"+l.dataField];if(e.getAttribute("rowspan")&&(e.removeAttribute("rowspan"),e.removeAttribute("aria-rowspan"),e.style.height=""),e.getAttribute("colspan")&&(e.removeAttribute("colspan"),e.removeAttribute("aria-colspan")),n){if(n.colSpan>1){const i=t.columns.indexOf(l);let r=0;for(let e=i;e<i+n.colSpan;e++){const l=t.columns[e];l&&l.visible&&(r+=l.computedWidth)}e.style.width=r+"px",e.setAttribute("colspan",""),e.setAttribute("aria-colspan",n.colSpan),n._styleChanged=!0}if(n.rowSpan>1){const l=t.rows.indexOf(i);let r=0;i.element.setAttribute("rowspan","");for(let e=l;e<=l+n.rowSpan-1;e++){const l=t.rows[e];l&&l.visible&&l.filtered&&(r+=l.cellHeight)}e.style.height=r+"px",e.setAttribute("rowspan",""),e.setAttribute("aria-rowspan",n.rowSpan),n._styleChanged=!0}(1===n.colSpan&&e.hasAttribute("colspan")||e.hasAttribute("rowspan")&&1===n.rowSpan)&&(e.style.height="",e.style.width="",e.removeAttribute("colspan"),e.removeAttribute("rowspan"),e.removeAttribute("aria-rowspan"),e.removeAttribute("aria-colspan"),n._styleChanged=!0),s.textContent===o||l.formatFunction||(s.textContent=o),n.setStyle(s),t.appearance.showTooltips?s.setAttribute("title",n.tooltip||o):s.hasAttribute("title")&&s.removeAttribute("title")}else s.textContent=o}}if(s.className!==u&&(s.className=u),l.formatFunction&&!i.data.isEmpty&&t.isInitialized){const t={row:i,column:l,cell:e.cell,oldValue:e.cell.oldValue,value:a,formattedValue:o,template:null};e.cell.canNotify=!1,i.canNotify=!1;const n=Object.assign({},{background:e.cell.background,borderColor:e.cell.borderColor,color:e.cell.color,fontSize:e.cell.fontSize,fontFamily:e.cell.fontFamily,fontWeight:e.cell.fontWeight,fontStyle:e.cell.fontStyle});l.formatFunction(t),s.style.background===n.background&&s.style.borderColor===n.borderColor&&s.style.color===n.color&&s.style.fontSize===n.fontSize&&s.style.fontWeight===n.fontWeight&&s.style.fontStyle===n.fontStyle||(e.cell._styleChanged=!0,e.cell.setStyle(s)),e.cell.background===n.background&&e.cell.borderColor===n.borderColor&&e.cell.color===n.color&&e.cell.fontSize===n.fontSize&&e.cell.fontWeight===n.fontWeight&&e.cell.fontStyle===n.fontStyle||(e.cell._styleChanged=!0,e.cell.setStyle(s));let r=!0;if(t.value!==a){if(e.toggleButton){s.children[1].children[2].innerHTML=t.value}else s.innerHTML=t.value;r=!1}if(null!==t.template){if(e.toggleButton){const e=s.children[1].children[2];e.innerHTML!==t.template&&(e.innerHTML=t.template)}else if(s.innerHTML!==t.template){const e=document.createElement("div");e.innerHTML=t.template,e.innerHTML!==s.innerHTML&&(s.innerHTML=t.template)}r=!1}r&&(s.textContent=a),e.cell.canNotify=!0,i.canNotify=!0}}_rotateCellContent(e,t,l){const i=document.createElement("span");return e.innerHTML="",i.innerHTML=l,e.appendChild(i),i.className="rotate",i.style.transform="rotate("+t.cellsRotationAngle+"deg)",this.grid._recycleRotate(e,i,t.cellsAlign,t.cellsVerticalAlign,l)}_getCellAlignment(e,t){const l=e["column_"+t.dataField],i=l&&l.verticalAlign||t.cellsVerticalAlign;let n=l&&l.align||t.cellsAlign;const r={align:"",verticalAlign:""};switch(l.grid.rightToLeft&&("left"===n?n="right":"right"===n&&(n="left")),n){case"left":r.align="align-left";break;case"center":case"middle":r.align="align-center";break;case"right":r.align="align-right"}switch(i){case"top":r.verticalAlign="align-top";break;case"center":case"middle":r.verticalAlign="align-middle";break;case"bottom":r.verticalAlign="align-bottom"}return r}template(){return""}_detach(){this.element=null,this.cell=null}onDetached(){this._detach()}})}});