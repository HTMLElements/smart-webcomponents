
/* Smart HTML Elements v7.4.0 (2020-Apr) 
Copyright (c) 2011-2020 jQWidgets. 
License: https://htmlelements.com/license/ */ //

!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=63)}({63:function(e,t){Smart("smart-layout",class extends Smart.ContentElement{static get properties(){return{contextMenuDataSource:{reflectToAttribute:!1,value:["delete"],type:"any"},dataSource:{reflectToAttribute:!1,value:"",type:"any"},itemLabel:{value:"Template",type:"string"},itemGroupLabel:{value:"Layout",type:"string"},messages:{value:{en:{invalidNode:'{{elementType}}: "{{method}}" method accepts an object or an array of objects as it\'s second parameter.',invalidIndex:'{{elementType}}: "{{method}}" method accepts an index of type number.',delete:"Delete",noId:"{{elementType}}: requires an id in order to save/load a state."}},type:"object",extend:!0},liveResize:{value:!1,type:"boolean"},orientation:{allowedValues:["horizontal","vertical"],value:"vertical",type:"string"},placeholder:{value:"Empty",type:"string"},resizeStep:{value:5,type:"number"},selectedIndex:{value:null,type:"any"}}}static get listeners(){return{contextmenu:"_contextMenuHandler","document.down":"_documentDownHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler","document.selectstart":"_documentSelectStartHandler"}}static get requires(){return{"Smart.Splitter":"smart.splitter.js"}}template(){return'<div id="container" role="presentation">\n                    <smart-splitter id="itemsContainer" orientation="[[orientation]]" class="smart-items-container" theme="[[theme]]">\n                        <smart-splitter-item><content></content></smart-splitter-item>\n                    </smart-splitter>\n                </div>'}propertyChangedHandler(e,t,n){const o=this;switch(e){case"contextMenuDataSource":o._contextMenu&&(o._closeContextMenu(),o._contextMenu.innerHTML="");break;case"dataSource":o._dataBind(!0);break;case"selectedIndex":o._handleItemSelection(o.getItem(n+""),!0);break;case"liveResize":case"resizeStep":case"animation":case"rightToLeft":o._applySplitterProperties(e);break;default:super.propertyChangedHandler(e,t,n)}}render(){const e=this;e.setAttribute("role","group"),e._dataBind(),e._applySplitterProperties(["liveResize","resizeStep","animation","rightToLeft"]),e._handleItemSelection(e.getItem(e.selectedIndex+""),!0),e.checkLicense(),Object.defineProperty(e,"dataSource",{get:function(){return e.context===e?e.properties.dataSource.value:e._getDataSource(e._getLayoutStruture())},set(t){e.updateProperty(e,e._properties.dataSource,t)}}),super.render()}appendChild(e){const t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e&&e instanceof Smart.SplitterItem?t.contains(e)||t.querySelector("smart-splitter:last-of-type").appendChild(e):t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"appendChild",node:"node"}))}insertBefore(e,t){const n=this;if(e){if(!n.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(n,e.concat(Array.prototype.slice.call(arguments)))}n.contains(t)&&t.closest("smart-splitter").insertBefore(e,t)}else n.error(n.localize("invalidNode",{elementType:n.nodeName.toLowerCase(),method:"insertBefore",node:"node"}))}removeChild(e){const t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e&&e instanceof Smart.SplitterItem?t.contains(e)&&1!==t.items.length&&e.closest("smart-splitter").removeChild(e):t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"removeChild",node:"node"}))}get items(){const e=this;if(e.isReady)return e.querySelectorAll("smart-splitter-item")}getItem(e){if(null==e)return;e=(e+"").split(".");let t,n=this.$.itemsContainer.items;for(let o=0;o<e.length&&(t=n[e[o]],t);o++){const e=t.querySelector("smart-splitter");n=e?e.items:[]}return t}getItemIndex(e){if(!e||!this.contains(e))return;if(!(e=e.closest("smart-splitter-item")))return;let t=e.closest("smart-splitter"),n=[];for(;t&&(n.push(t.items.indexOf(e)),e.parentElement)&&(e=t.closest("smart-splitter-item"));)t=e.closest("smart-splitter");return n.reverse().join(".")}insert(e,t,n){const o=this;let r;"string"!=typeof t&&"number"!=typeof t||(r=o.getItem(t+"")),r instanceof Smart.SplitterItem?("object"==typeof e&&e.constructor===Object&&(e=o._createLayoutItem(e)),e instanceof Smart.SplitterItem&&!o.contains(e)&&(o._createNewItem(r,n,e),o.$.fireEvent("stateChange",{type:"insert",item:e}))):o.error(o.localize("invalidIndex",{elementType:o.nodeName.toLowerCase(),method:"insert"}))}removeItem(e){const t=this;if("string"!=typeof e&&"number"!=typeof e||(e=t.getItem(e+"")),!(e instanceof Smart.SplitterItem&&t.contains(e)))return void t.error(t.localize("invalidIndex",{elementType:t.nodeName.toLowerCase(),method:"removeItem"}));let n=e.closest("smart-splitter");t._removeItem(n,e),t.$.fireEvent("stateChange",{type:"deleteItem",item:e})}removeAll(){const e=this;e._clearContent();const t=e.$.itemsContainer.items[0];t&&(t.innerHTML=e.placeholder)}updateItem(e,t){const n=this;if("string"!=typeof e&&"number"!=typeof e||(e=n.getItem(e+"")),e instanceof Smart.SplitterItem&&n.contains(e))for(let o in t)switch(o){case"content":n._setLayoutItemContent(e,t);break;case"label":e._label=t[o];break;case"root":e._root=t[o];break;case"buttonPosition":e._buttonPosition=t[o];break;case"readonly":case"min":case"max":case"collapsible":case"size":case"locked":e[o]=t[o];break;case"orientation":{const n=e.closest("smart-splitter");n&&(n.orientation=t[o]);break}}else n.error(n.localize("invalidIndex",{elementType:n.nodeName.toLowerCase(),method:"updateItem"}))}clearState(){const e=this;e.id?window.localStorage.removeItem("smartLayout"+e.id):e.warn(e.localize("noId",{elementType:e.nodeName.toLowerCase()}))}loadState(e){const t=this;if(!e){if(!t.id)return void t.warn(t.localize("noId",{elementType:t.nodeName.toLowerCase()}));e=JSON.parse(window.localStorage.getItem("smartLayout"+t.id))}if(e){t.set("dataSource",[]);const n=t.context;t.context=document,t.dataSource=e,t.context=n}}saveState(){const e=this,t=JSON.stringify(e._getLayoutStruture());return e.id?window.localStorage.setItem("smartLayout"+e.id,t):e.warn(e.localize("noId",{elementType:e.nodeName.toLowerCase()})),JSON.parse(t)}select(e){const t=this;"string"!=typeof e&&"number"!=typeof e||(e=t.getItem(e+"")),e instanceof Smart.SplitterItem&&t.contains(e)&&t._handleItemSelection(e,!0)}unselect(){this._handleItemSelection()}_applySplitterProperties(e){const t=this,n=t.querySelectorAll("smart-splitter");Array.isArray(e)||(e=[e]);for(let o=0;o<n.length;o++)for(let r=0;r<e.length;r++)n[o][e[r]]=t[e[r]]}_contextMenuHandler(e){const t=this;let n=e.target;if(n.closest){if(n.closest(".smart-layout-context-menu"))return void e.preventDefault();if(n.closest("smart-splitter-bar"))return;if(n=n.closest("smart-splitter-item"),!n||n.readonly)return;e.preventDefault(),t._createContextMenu();const o=t._contextMenu.children,r=t.querySelectorAll("smart-splitter-item");for(let e=0;e<o.length;e++){const i=o[e];"delete"===i.getAttribute("value")&&(n._root&&(!n.innerHTML||n.innerHTML===t.placeholder)||1===r.length&&n===r[0]&&n.innerHTML===t.placeholder?i.setAttribute("disabled",""):i.removeAttribute("disabled"))}t._openContextMenu(n,e.pageX,e.pageY)}}_createContextMenu(){const e=this;let t=e._contextMenu;if(t||(t=document.createElement("div"),t.classList.add("smart-layout-context-menu","smart-visibility-hidden"),e._contextMenu=t),!t.innerHTML){const n=e.contextMenuDataSource;for(let o=0;o<n.length;o++){const r=n[o];let i,s;"object"==typeof r?(i=r.label,s=r.value):s=i=r+"",t.innerHTML+=`<div class="smart-layout-context-menu-item" value="${s}">${e.localize(i)||i}</div>`}}}_openContextMenu(e,t,n){const o=this._contextMenu;o&&o.classList.contains("smart-visibility-hidden")&&(this.$.fireEvent("opening").defaultPrevented||e.parentElement&&(o._target=e,this._opening=!0,this.$.container.appendChild(o),this._positionContextMenu(t,n),o.classList.remove("smart-visibility-hidden"),this.$.fireEvent("open")))}_closeContextMenu(){const e=this,t=e._contextMenu;t&&!t.classList.contains("smart-visibility-hidden")&&(e.$.fireEvent("closing").defaultPrevented||(delete e._opening,e.hasAnimation&&t.addEventListener("transitionend",e._contextMenuTransitionEndHandler.bind(e),{once:!0}),t.classList.add("smart-visibility-hidden"),e.$.fireEvent("close")))}_contextMenuTransitionEndHandler(){const e=this._contextMenu;e&&!this._opening&&e.parentElement&&this.$.container.removeChild(e)}_clearContent(e){const t=this,n=t.$.itemsContainer,o=n.items,r=t.selectedIndex;for(let e=1;e<o.length;e++)n.removeChild(o[e]);o[0].clearContent(),o[0].innerHTML="",t.selectedIndex=null,e||t.$.fireEvent("change",{selectedIndex:t.selectedIndex,oldSelectedIndex:r})}_positionContextMenu(e,t){const n=this._contextMenu;if(!n)return;const o=this.$.container.getBoundingClientRect();e-=o.left+window.pageXOffset,t-=o.top+window.pageYOffset,e+n.offsetWidth>o.width&&(e-=e+n.offsetWidth-o.width),t+n.offsetHeight>o.height&&(t-=t+n.offsetHeight-o.height),n.style.left=e+"px",n.style.top=t+"px"}_documentDownHandler(e){const t=this,n=e.originalEvent.target;t.contains(n)&&n.closest&&(t._target=n)}_documentMoveHandler(e){const t=e.originalEvent.target,n=this._contextMenu;if(n&&!Smart.Utilities.Core.isMobile){if(n.querySelector(".smart-layout-context-menu-item[hover]")){const e=n.children;for(let t=0;t<e.length;t++)e[t].removeAttribute("hover")}n.contains(t)&&t.closest&&t.closest(".smart-layout-context-menu-item")&&t.setAttribute("hover","")}}_documentUpHandler(e){const t=this,n=Smart.Utilities.Core.isMobile,o=n?document.elementFromPoint(e.pageX-window.pageXOffset,e.pageY-window.pageYOffset):e.originalEvent.target;if(t._target&&!t._target.closest("smart-splitter-bar")&&t._handleItemSelection(o),t._target){if(t._target!==o)return void delete t._target;!e.button&&o.closest(".smart-layout-buttons-container")?t._handleButtonClick(o):o.closest(".smart-layout-context-menu")&&(!n&&!e.button||n)&&t._handleMenuItemClick(o.closest(".smart-layout-context-menu-item")),delete t._target}}_documentSelectStartHandler(e){this._target&&e.preventDefault()}_dataBind(e){const t=this;if(t.dataSource)"string"==typeof t.dataSource&&(t.dataSource=JSON.parse(t.dataSource)),null!==t.dataSource&&Array.isArray(t.dataSource)&&t._createItemsFromArray(t.dataSource);else{e&&t._clearContent();const n=t.$.itemsContainer.items;if(1===n.length){const e=n[0];e.innerHTML&&"<content></content>"!==e.innerHTML||(e.innerHTML=t.placeholder)}}}_createItemsFromArray(e){const t=this,n=e.length;let o;t._clearContent(!0),t.$.itemsContainer.autoFitMode="overflow";for(let n=0;n<e.length;n++)o=t._createLayoutItem(e[n],0===n),o&&!o.parentElement&&t.$.itemsContainer.appendChild(o);t.$.itemsContainer.autoFitMode="proportional";const r=t.$.itemsContainer.items[0];r&&r.size&&r._setSize("size",r.size),n||(t.$.itemsContainer.items[0].placeholder=t.placeholder)}_createLayoutItem(e,t){if(!e)return;const n=this;let o;return o=t?n.$.itemsContainer.items[0]:document.createElement("smart-splitter-item"),n._setLayoutItemContent(o,e),n._setItemProperties(o,e),o}_setLayoutItemContent(e,t){const n=this;let o="object"==typeof t?t.content:t;if(Array.isArray(o)){const r=document.createElement("smart-splitter");n._applySplitterProperties(["liveResize","resizeStep","rightToLeft"]),r.orientation=t.orientation||n.orientation;const i=100/o.length+"%";for(let e=0;e<o.length;e++){const t=n._createLayoutItem(o[e]);t&&(o[e].size||(o[e].size=i),n._setItemProperties(t,o[e]),r.appendChild(t))}e.appendChild(r)}else if(o+="",/^[#.]{1}\w(\w|-)+$/gm.test(o)){const t=document.querySelectorAll(o);for(let n=0;n<t.length;n++){const o=t[n];e.appendChild(o instanceof HTMLTemplateElement?document.importNode(o.content,!0):o)}}else e.innerHTML=o||n.placeholder}_getDataSource(e){const t=this;function n(e){if(e.label)return e;e.label="string"==typeof e.content?t.itemLabel:t.itemGroupLabel}if(Array.isArray(e))for(let o=0;o<e.length;o++)n(e[o]),Array.isArray(e[o].content)&&t._getDataSource(e[o].content);else n(e);return e}_getLayoutStruture(){const e=this;function t(e,t){if(!e)return;let n={};return e._label&&(n.label=e._label),e._root&&(n.root=e._root),e.content&&(n.content="string"==typeof e.content?e.content:e.content.textContent.trim()),e.readonly&&(n.readonly=e.readonly),e.min&&(n.min=e.min),e.max&&(n.max=e.max),e.size?n.size=e.size:n.size=e["offset"+("horizontal"===t.orientation?"Height":"Width")],e.locked&&(n.locked=e.locked),e.collapsible&&(n.collapsible=e.collapsible),e.collapsed&&(n.collapsed=e.collapsed),n}let n;if(n=arguments.length?arguments[0]:e.$.itemsContainer.items,!n||!n.length)return;let o=[];for(let r=0;r<n.length;r++){const i=n[r],s=t(i,i.closest("smart-splitter")),a=i.querySelector("smart-splitter");if(a){const t=e._getLayoutStruture(a.items);t&&t.length&&(s.content=t),a.orientation!==e.orientation&&(s.orientation=a.orientation)}o.push(s)}return o}_setItemProperties(e,t){e.readonly=t.readonly||!1,e.size=t.size||"",e.max=t.max||"",e.max=t.max||"",e.min=t.min||30,e.collapsible=t.collapsible||!1,e.locked=t.locked||!1,Array.isArray(t.buttonPosition)&&(e._buttonPosition=t.buttonPosition),"boolean"==typeof e._root&&(e._root=t.root),"string"!=typeof e._label&&"number"!=typeof e._label||(e._label=t.label)}_handleItemSelection(e,t){const n=this,o=e?e.closest("smart-splitter-item"):void 0,r=n.selectedIndex;return o&&o.readonly?(n._closeContextMenu(),void(n.selectedIndex=null)):(n.querySelectorAll("smart-splitter-item").forEach(e=>e.removeAttribute("selected")),n._closeContextMenu(),o&&(t||n._target)?((t||n._target.closest("smart-splitter-item")===o)&&(n._handleButtonsVisibility(o),o.setAttribute("selected",""),n.selectedIndex=n.getItemIndex(o)),void(r!==n.selectedIndex&&n.$.fireEvent("change",{selectedIndex:n.selectedIndex,oldSelectedIndex:r}))):(n._handleButtonsVisibility(),void(n.selectedIndex=null)))}_handleButtonClick(e){const t=this._createNewItem(e.closest("smart-splitter-item"),e.getAttribute("position"));this._handleItemSelection(t,!0),this.$.fireEvent("stateChange",{type:"insert",item:t})}_handleMenuItemClick(e){const t=this;if(!e||e.hasAttribute("disabled"))return;const n=e.getAttribute("value"),o=t._contextMenu;if(t.$.fireEvent("menuItemClick",{target:o?o._target:null,item:e,label:e.textContent,value:n}),"delete"===n){const e=o._target;if(!e)return;const r=e.closest("smart-splitter");delete o._target,t._removeItem(r,e),t.$.fireEvent("stateChange",{type:n,item:e})}}_createNewItem(e,t,n){const o=this,r=document;if(!e)return;n||(n=r.createElement("smart-splitter-item"));const i=e.closest("smart-splitter");let s;if(n.innerHTML||(n.innerHTML=o.placeholder),n.min||(n.min=30),e.min=30,"vertical"===i.orientation&&("left"===t||"right"===t)||"horizontal"===i.orientation&&("top"===t||"bottom"===t)){s=i;const o=s.items,r=Math.max(0,o.indexOf(e)+("top"===t||"left"===t?0:1)),a=e["offset"+("horizontal"===s.orientation?"Height":"Width")]/2;n.size||(n.size=a),s.insertBefore(n,o[r]),e.size=a}else{if(s=e.querySelector("smart-splitter")||r.createElement("smart-splitter"),"top"!==t&&"bottom"!==t||(s.orientation="horizontal"),s.parentElement){const o=s.items,r=Math.max(0,o.indexOf(e)+("top"===t||"left"===t?0:1));return s.insertBefore(n,o[r]),n}const i=r.createElement("smart-splitter-item"),a=e.content;if(o._setItemProperties(i,e),i.min=30,i.size="50%",n.size||(n.size="50%"),"string"==typeof a)i.innerHTML=a,e.innerHTML="";else for(;a.firstChild;)i.appendChild(a.firstChild);"bottom"===t||"right"===t?(s.appendChild(i),s.appendChild(n)):(s.appendChild(n),s.appendChild(i)),e.appendChild(s)}return n}_removeItem(e,t){const n=this;if(e===n.$.itemsContainer){const t=e.items;if(1===t.length)return t[0].innerHTML=n.placeholder,t[0].size="",void e.refresh()}else if(t._root)return t.innerHTML=n.placeholder,void e.refresh();e.removeChild(t);const o=e.items;if(1===o.length){const t=e.closest("smart-splitter-item");if(!t)return;t.removeChild(e);const r=o[0];if("string"==typeof r.content)t.innerHTML=r.content;else for(;r.content.firstChild;)t.appendChild(r.content.firstChild);r.size=t.size,n._setItemProperties(t,r),t.collapsed=!1,t.closest("smart-splitter").refresh()}}_handleButtonsVisibility(e){const t=this;if(t._buttons||(t._buttons=document.createElement("div"),t._buttons.classList.add("smart-layout-buttons-container"),t._buttons.innerHTML='<div role="button" position="top"></div>\n                                       <div role="button" position="bottom"></div>\n                                       <div role="button" position="left"></div>\n                                       <div role="button" position="right"></div>'),e||!t._buttons.parentElement){if(e&&e!==t._buttons.closest("smart-splitter-item")){const n=e._buttonPosition||[],o=t._buttons.children;for(let e=0;e<o.length;e++){const t=o[e];n.length&&n.indexOf(t.getAttribute("position"))<0?t.classList.add("smart-hidden"):t.classList.remove("smart-hidden")}e.appendChild(t._buttons)}}else t._buttons.parentElement.removeChild(t._buttons)}})}});